"use strict";(self.webpackChunkOSM620=self.webpackChunkOSM620||[]).push([[93],{7275:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Labs/lab2","title":"Lab 2 - Hyper-V, NAT, and Windows Clients","description":"Lab 2 - Hyper-V, NAT, and Windows Clients","source":"@site/docs/Labs/lab2.md","sourceDirName":"Labs","slug":"/Labs/lab2","permalink":"/OSM620/Labs/lab2","draft":false,"unlisted":false,"editUrl":"https://github.com/catherine-leung/OERTemplate/tree/main/docs/Labs/lab2.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"lab2","title":"Lab 2 - Hyper-V, NAT, and Windows Clients","sidebar_position":2,"description":"Lab 2 - Hyper-V, NAT, and Windows Clients"},"sidebar":"courseNotesSidebar","previous":{"title":"Lab 1 - Environment Setup","permalink":"/OSM620/Labs/lab1"},"next":{"title":"Lab 3 - Security and Remote Connectivity","permalink":"/OSM620/Labs/lab3"}}');var r=t(4848),l=t(8453);const s={id:"lab2",title:"Lab 2 - Hyper-V, NAT, and Windows Clients",sidebar_position:2,description:"Lab 2 - Hyper-V, NAT, and Windows Clients"},a="Lab 2 - Hyper-V, NAT, and Windows Clients",o={},c=[{value:"Investigation 1: Hyper-V Role Installation and Switch Setup <em>(srv1)</em>",id:"investigation-1-hyper-v-role-installation-and-switch-setup-srv1",level:2},{value:"Part 1: Install the Hyper-V Role",id:"part-1-install-the-hyper-v-role",level:3},{value:"Part 2: Create the Hyper-V Virtual Switch",id:"part-2-create-the-hyper-v-virtual-switch",level:3},{value:"Part 3: Confirm IP Configuration (post-switch)",id:"part-3-confirm-ip-configuration-post-switch",level:3},{value:"Part 4: Attach VMs (when you create them)",id:"part-4-attach-vms-when-you-create-them",level:3},{value:"Investigation 2: RRAS and NAT",id:"investigation-2-rras-and-nat",level:2},{value:"Investigation 3: Installing Windows Client 1 <em>(client1)</em>",id:"investigation-3-installing-windows-client-1-client1",level:2},{value:"Investigation 4: Post-Installation Tasks <em>(client1</em>)",id:"investigation-4-post-installation-tasks-client1",level:2},{value:"Investigation 5: Cloning client1 to Create client2",id:"investigation-5-cloning-client1-to-create-client2",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"lab-2---hyper-v-nat-and-windows-clients",children:"Lab 2 - Hyper-V, NAT, and Windows Clients"})}),"\n",(0,r.jsxs)(n.h2,{id:"investigation-1-hyper-v-role-installation-and-switch-setup-srv1",children:["Investigation 1: Hyper-V Role Installation and Switch Setup ",(0,r.jsx)(n.em,{children:"(srv1)"})]}),"\n",(0,r.jsx)(n.p,{children:"In this investigation, you will install the Hyper-V role on srv1 and create a Hyper-V virtual switch that uses your existing Internal Network adapter."}),"\n",(0,r.jsx)(n.p,{children:"Your Hyper-V switch will be named Internal Network (Hyper-V)."}),"\n",(0,r.jsx)(n.h3,{id:"part-1-install-the-hyper-v-role",children:"Part 1: Install the Hyper-V Role"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open the Server Manager application."}),"\n",(0,r.jsx)(n.li,{children:"Click Manage in the top-right, then click Add Roles and Features."}),"\n",(0,r.jsx)(n.li,{children:"In the Before you begin screen, click Next."}),"\n",(0,r.jsx)(n.li,{children:"Installation Type: Keep Role-based or feature-based installation selected and click Next."}),"\n",(0,r.jsx)(n.li,{children:"Server Selection: Ensure your local server (srv1) is selected. Click Next."}),"\n",(0,r.jsxs)(n.li,{children:["Server Roles: Check Hyper-V.","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"When prompted to Add features that are required for Hyper-V, click Add Features."}),"\n",(0,r.jsx)(n.li,{children:"Click Next."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Features: Leave defaults (the Hyper-V Management Tools are already included). Click Next."}),"\n",(0,r.jsxs)(n.li,{children:["Hyper-V page:","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"When asked about Virtual Switches, do not select any adapters here. We will create and name the switch manually in the next part. Click Next."}),"\n",(0,r.jsx)(n.li,{children:"Migration for live migrations: leave unchecked. Click Next."}),"\n",(0,r.jsx)(n.li,{children:"Default Stores: leave defaults. Click Next."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Confirmation: Check Restart the destination server automatically if required. Click Install."}),"\n",(0,r.jsx)(n.li,{children:"Wait for installation to complete. If prompted, allow the reboot. Log back in when finished."}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," It\u2019s normal for Server Manager to take a minute or two after reboot to show the Hyper-V tile."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"part-2-create-the-hyper-v-virtual-switch",children:"Part 2: Create the Hyper-V Virtual Switch"}),"\n",(0,r.jsx)(n.p,{children:"You will create an External Hyper-V switch bound to your Internal Network adapter (the VMware VMnet10 NIC you configured earlier)."}),"\n",(0,r.jsx)(n.p,{children:"The switch name must be: Internal Network (Hyper-V)."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"In Server Manager, click Tools (top-right) and select Hyper-V Manager."}),"\n",(0,r.jsx)(n.li,{children:"In the left pane, click your server name (e.g., srv1-\u2026)."}),"\n",(0,r.jsx)(n.li,{children:"In the right Actions pane, click Virtual Switch Manager\u2026."}),"\n",(0,r.jsx)(n.li,{children:"Under Create virtual switch, select External, then click Create Virtual Switch."}),"\n",(0,r.jsxs)(n.li,{children:["In the Virtual Switch Properties window:","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Name: Enter Internal Network (Hyper-V)."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"External network: From the drop-down, select your Internal Network adapter."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Reminder:"})," This is the adapter you renamed earlier to Internal Network and set to 10.0.",(0,r.jsx)(n.code,{children:"UID"}),".1/24. Do not choose the NAT adapter."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Ensure Allow management operating system to share this network adapter is checked."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Click OK. If you see a warning about temporary network disruption, click Yes."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Wait for the switch to be created. This may briefly interrupt connectivity on that adapter."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Naming note:"})," You are creating an External Hyper-V switch, but you\u2019re binding it to the Windows NIC you named Internal Network."]}),"\n",(0,r.jsx)(n.p,{children:"That\u2019s correct."}),"\n",(0,r.jsx)(n.p,{children:"The switch itself is external (bridged to that NIC), and the required name for the switch is Internal Network (Hyper-V)."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"part-3-confirm-ip-configuration-post-switch",children:"Part 3: Confirm IP Configuration (post-switch)"}),"\n",(0,r.jsx)(n.p,{children:"When you create an External switch, Windows moves IP settings from the physical adapter to a new host vNIC named vEthernet (Internal Network (Hyper-V))."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open Control Panel > Network and Internet > Network and Sharing Center > Change adapter settings."}),"\n",(0,r.jsx)(n.li,{children:"Verify you now see vEthernet (Internal Network (Hyper-V))."}),"\n",(0,r.jsxs)(n.li,{children:["Right-click it \u2192 Status \u2192 Details\u2026 and confirm:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["IPv4 Address: ",(0,r.jsxs)(n.strong,{children:["10.0.",(0,r.jsx)(n.code,{children:"UID"}),".1"]})]}),"\n",(0,r.jsxs)(n.li,{children:["Subnet Mask: ",(0,r.jsx)(n.strong,{children:"255.255.255.0"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["If the IP didn\u2019t carry over, set it manually on vEthernet (Internal Network (Hyper-V)) to: ",(0,r.jsxs)(n.strong,{children:["10.0.",(0,r.jsx)(n.code,{children:"UID"}),".1/24"]})]}),"\n",(0,r.jsx)(n.li,{children:"Leave Default gateway and DNS for this adapter as you specified earlier in Lab 1."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"part-4-attach-vms-when-you-create-them",children:"Part 4: Attach VMs (when you create them)"}),"\n",(0,r.jsx)(n.p,{children:"When you begin creating Hyper-V VMs on srv1, select Internal Network (Hyper-V) for the VM\u2019s Network Adapter."}),"\n",(0,r.jsx)(n.p,{children:"Do not select the \u201cInternal\u201d switch type here\u2014your switch is an External Hyper-V switch bound to the Internal Network NIC, and its exact name is Internal Network (Hyper-V)."}),"\n",(0,r.jsx)(n.p,{children:"Hyper-V is now installed on srv1, and your VMs can now use the Internal Network (Hyper-V) for the lab subnet."}),"\n",(0,r.jsx)(n.h2,{id:"investigation-2-rras-and-nat",children:"Investigation 2: RRAS and NAT"}),"\n",(0,r.jsxs)(n.h2,{id:"investigation-3-installing-windows-client-1-client1",children:["Investigation 3: Installing Windows Client 1 ",(0,r.jsx)(n.em,{children:"(client1)"})]}),"\n",(0,r.jsxs)(n.h2,{id:"investigation-4-post-installation-tasks-client1",children:["Investigation 4: Post-Installation Tasks ",(0,r.jsx)(n.em,{children:"(client1"}),")"]}),"\n",(0,r.jsx)(n.h2,{id:"investigation-5-cloning-client1-to-create-client2",children:"Investigation 5: Cloning client1 to Create client2"})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);