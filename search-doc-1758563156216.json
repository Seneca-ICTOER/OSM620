{"searchDocs":[{"title":"Assignment 2","type":0,"sectionRef":"#","url":"/OSM620/Assignments/assignment2","content":"Assignment 2 To be released on Week 9.","keywords":"","version":"Next"},{"title":"Assignment 1","type":0,"sectionRef":"#","url":"/OSM620/Assignments/assignment1","content":"Assignment 1 To be released on Week 6.","keywords":"","version":"Next"},{"title":"Lab 4 - Implementing DNS","type":0,"sectionRef":"#","url":"/OSM620/Labs/lab4","content":"","keywords":"","version":"Next"},{"title":"Investigation 1: Configuring DNS on Windows Server (srv1)​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#investigation-1-configuring-dns-on-windows-server-srv1","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Setting a Static IP Address on srv1​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-1-setting-a-static-ip-address-on-srv1","content":" As srv1 will be our primary network services provider, we have to give it a static IP address. This is so it doesn't periodically change; if this were to occur, any other machines relying on this one would suddenly be unable to connect and lose access to all services provided, including the very DNS we're about to set up!  Note: You will be changing network information. It is best to do Part 1 directly on the machine, not through a remote connection.  To set this server with an static IP address:  Open Command Prompt and run the following: ipconfig /allWrite down the current address information srv1 has:IPv4 address: 10.88.111.14Subnet Mask: 255.255.255.0Default Gateway: 10.88.111.254DNS Servers: 66.207.192.6, 206.223.173.7In Server Manager &gt; Local Server, in the Properties area of the page, find the line entry: Ethernet0Click the link next to it: IPv4 address assigned by DHCP, IPv6 enabledThis will open the Network Connections window.Right-click on Ethernet0 and select Properties from the drop-down menu.In the new Ethernet0 Properties window, click on the line item (not the checkbox) for Internet Protocol Version 4 (TCP/IPv4).Further down on the same window, find and click on the Properties button.In the new pop-up window Internet Protocol Version 4 (TCP/IPv4) Properties, in the General tab, select the Use the following IP address: option.Enter the following information in the fields below from your previously-written srv1 address information:IP addressSubnet maskDefault gatewaySelect the Use the following DNS server addresses: option.Enter the following information in the fields below from your previously-written srv1 address information:Preferred DNS server: 127.0.0.1 (&lt; This is important!)Alternate DNS server: Choose one from your written records, it doesn't matter which.Click OK.Back in the Ethernet0 Properties window, click Close.Open Firefox and go to eff.org to confirm you haven't lost Internet connectivity. If you can't access the page, go back through these steps or ask for help. Do not continue forward until this works!Close the Network Connections window.Verify your change in Server Manager &gt; Local Server. The earlier line entry should now simply say your IP address instead of &quot;assigned by DHCP&quot;.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Installing the DNS Server Role on srv1​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-2-installing-the-dns-server-role-on-srv1","content":" Login to srv1 with your Administrator account.Open the Server Manager application (icon is on the taskbar or Start menu).In the left menu, click on Local Server if you’re not already there.At the top right, click Manage &gt; Add Roles and Features.In the Add Roles and Features Wizard window: On Installation Type, select Role-based or feature-based installation, then Next.On Server Selection, confirm Select a server from the server pool and choose srv1, then Next.On Server Roles, scroll down and check the box for DNS Server.A pop-up will ask to add required features, click Add Features.Back on the Server Roles page, click Next.On the Features page, leave defaults, click Next.On the DNS Server page, read and click Next.On the Confirmation page, click Install.Wait for installation to finish (may take a few minutes).When you see Installation succeeded on srv1, click Close.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Configuring a New DNS Zone​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-3-configuring-a-new-dns-zone","content":" Back in Server Manager, in the top right, click Tools &gt; DNS to open the DNS Manager.In the left pane, expand srv1 and then Forward Lookup Zones.Right-click on Forward Lookup Zones and select New Zone…In the New Zone Wizard: On Zone Type, select Primary zone, click Next.On Zone Name, enter yourSenecaUsername.com, replacing yourSenecaUsername with your actual username.For example, mine might be: cjohnson30.comClick Next.On Zone File, keep Create a new file selected, click Next.On Dynamic Update, keep Do not allow dynamic updates (default), then click Next.Click Finish to create the zone.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Adding Host (A) Records​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-4-adding-host-a-records","content":" In DNS Manager, expand your new yourSenecaUsername.com zone.Right-click in the right pane and select New Host (A or AAAA)…For each of your lab VMs, create a record:srv1 Name: srv1IP address: (Use the IPv4 address of srv1 from ipconfig)Click Add Host srv2 Name: srv2IP address: (Use the IPv4 address of srv2 from ipconfig)Click Add Host client1 Name: client1IP address: (Use the IPv4 address of client1 from ipconfig)Click Add Host When finished, you should see all three names listed in the zone.  ","version":"Next","tagName":"h3"},{"title":"Part 5: Configure DNS Forwarders on srv1​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-5-configure-dns-forwarders-on-srv1","content":" We want srv1 to handle all DNS queries for our other machines, including locations on the Internet. To do this, we have to tell this server where to look it if doesn't have the answer locally. If it can't answer locally, it will forward the request to an Internet-based DNS server.  In DNS Manager on srv1, right-click on your server’s name in the left pane.Select Properties.Go to the Forwarders tab.Click Edit…In the IP address field, enter the IP address from your earlier list, then hit Enter for it to verified. If it can reach it, you should see a domain name populate next to the IP address.Add a second DNS for fallback, using Google's DNS: 8.8.8.8Make sure Google's DNS is the second entry in the list.Click OK to add.Click OK again to close Properties.  ","version":"Next","tagName":"h3"},{"title":"Part 6: Testing DNS Resolution and Entries Locally​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-6-testing-dns-resolution-and-entries-locally","content":" Our first task is to confirm this works locally by telling the server to talk to itself first for DNS resolution. This lets us test our DNS service and records while removing the network and firewall pieces.  Open Command Prompt.To test DNS resolution functionality, run the following commands one at a time:  nslookup srv1.cjohnson30.com nslookup srv2.cjohnson30.com nslookup client1.cjohnson30.com nslookup eff.org   If each returns the proper IP address value, you're done! If not, revisit your earlier configuration steps and check to see what might be missing.Don't be afraid to ask for help!  ","version":"Next","tagName":"h3"},{"title":"Investigation 2: Configuring Machines For DNS Use​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#investigation-2-configuring-machines-for-dns-use","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Windows Server Core (srv2)​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-1-windows-server-core-srv2","content":" Log in as Administrator.At the prompt, run:  Get-NetIPAddress   Look for the section that contains srv2's normal IP address. Make a note of the InterfaceIndex number just below it. (For example, 4. Yours may differ.)Set the DNS server to srv1’s IP (replace X.X.X.X with srv1’s actual address, and 4 with your NIC’s ifIndex):  Set-DnsClientServerAddress -InterfaceIndex 4 -ServerAddresses 192.168.1.14   Confirm the change:  Get-DnsClientServerAddress   To test DNS resolution functionality, run the following commands one at a time:  nslookup srv1.cjohnson30.com nslookup srv2.cjohnson30.com nslookup client1.cjohnson30.com nslookup eff.org   If each returns the proper IP address value, you're done! If not, revisit your earlier configuration steps and check to see what might be missing.Don't be afraid to ask for help!Last, ping each other machine to prove you no longer need to remember IP addresses:  ping srv1.cjohnson30.com ping client1.cjohnson30.com   Cool, right?  ","version":"Next","tagName":"h3"},{"title":"Part 3: Windows 11 Client (client1)​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-3-windows-11-client-client1","content":" Login as Administrator.Right-click the Network icon in the system tray, click Network and Internet settings.Click Ethernet.Scroll down to DNS server assignment and click the Edit button next to it.In the Edit DNS settings pop-up window, click the drop-down menu to change it from Automatic (DHCP) to Manual.Find the new IPv4 option and toggle it On.In the Preferred DNS field, enter the srv1 IP address.Leave all others on their defaults and click Save.Open Command Prompt and type:  ipconfig /flushdns   To test DNS resolution functionality, run the following commands one at a time:  nslookup srv1.cjohnson30.com nslookup srv2.cjohnson30.com nslookup client1.cjohnson30.com nslookup eff.org   If each returns the proper IP address value, you're done! If not, revisit your earlier configuration steps and check to see what might be missing.Don't be afraid to ask for help!Last, ping each server to prove you no longer need to remember IP addresses:  ping srv1.cjohnson30.com ping srv2.cjohnson30.com   Cool, right?  ","version":"Next","tagName":"h3"},{"title":"Investigation 3: Configuring Reverse Lookup (PTR) Records​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#investigation-3-configuring-reverse-lookup-ptr-records","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Create a Reverse Lookup Zone​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-1-create-a-reverse-lookup-zone","content":" In DNS Manager on srv1, right-click Reverse Lookup Zones in the left pane.Click New Zone…In the New Zone Wizard: On Zone Type, select Primary zone. Click Next.On Reverse Lookup Zone Name, choose IPv4 Reverse Lookup Zone. Click Next.On Network ID, enter the first three octets of your VMs’ subnet (for example, if your VMs’ IPs are 192.168.131.x, enter 192.168.131). Click Next.On Zone File, keep defaults. Click Next.On Dynamic Update, keep defaults (Do not allow dynamic updates). Click Next.Click Finish to create the zone.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Add PTR Records for Each VM​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-2-add-ptr-records-for-each-vm","content":" We're going to automatically add PTR records using our existing A records for ease of use.Inside the Forward Lookup Zones, in the cjohnson30.com zone, right-click each A record you created (srv1, srv2, client1) and select Properties.Check the box next to “Update associated pointer (PTR) record” and click OK.If the box was already checked, uncheck it, click Apply, check it again, then click Apply again. This forces the PTR generation.This should automatically create PTR records in your new reverse zone.Double-check your work. Click on the folder inside Reverse Lookup Zone to see its contents. If empty, right-click on the folder and click Refresh.They should now appear. If they do not, retrace your steps of ask for help.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Test Reverse DNS Resolution​","type":1,"pageTitle":"Lab 4 - Implementing DNS","url":"/OSM620/Labs/lab4#part-3-test-reverse-dns-resolution","content":" On srv2, open PowerShell.Run nslookup on each VM's IP address:  nslookup 192.168.1.14 nslookup 192.168.1.15 nslookup 192.168.1.16   You should see the PTR record and corresponding hostname for each IP address.  Output  Server: srv1.cjohnson30.com Address: 10.88.111.14 Name: client1.cjohnson30.com Address: 10.88.111.15   Notice that the server entry no longer says &quot;UnKnown&quot; as it did before. Now it can identify itself!  Congratulations, you've now set up basic DNS services from srv1 to each VM in your environment! ","version":"Next","tagName":"h3"},{"title":"Lab 1 - Environment Setup","type":0,"sectionRef":"#","url":"/OSM620/Labs/lab1","content":"","keywords":"","version":"Next"},{"title":"Lab Preparations​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#lab-preparations","content":" ","version":"Next","tagName":"h2"},{"title":"Purpose of Lab 1​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#purpose-of-lab-1","content":" In this lab you will stand up the base environment you’ll use for the course. You’ll obtain official installation media and keys, prepare VMware Workstation, and deploy two servers:  srv1: Windows Server 2025 Datacenter, GUI (Desktop Experience)srv2: Windows Server 2025 Datacenter, CLI (Core)  You’ll complete essential post-install tasks (time zone, naming, activation, updates), then place both servers on a two-NIC layout so they can talk to each other on a private subnet while still reaching the internet for updates.  By the end, the machines are clean, consistent, and ready for later labs (Hyper-V, security hardening, DNS, DHCP, and eventually AD).  ","version":"Next","tagName":"h3"},{"title":"Objectives​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#objectives","content":" By the end of this lab, you will be able to:  Acquire Windows Server 2025 Datacenter installation media and your individual product key from Azure Education and store them securely.Access VMware Workstation on a Seneca lab PC (locally or via MyApps) or install it on a personal PC.Provision two VMs with the required specs and networks: srv1-senecaUsername (GUI) with NAT + VMnet10 NICs.srv2-senecaUsername (Core) with NAT + VMnet10 NICs. Complete essential post-install tasks on each server.Verify basic Internet connectivity prerequisites for later labs within each VM.  Here's a basic flowchart of what we'll be doing with Lab 1 to give you a visual overview:    ","version":"Next","tagName":"h3"},{"title":"Minimum Requirements​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#minimum-requirements","content":" Before beginning, you must have:  Attended the Week 1 lecture.Read through the Week 1 slides, and have them handy as a reference for concepts.Working access to portal.azure.com with your Seneca credentials.Access to VMware Workstation (Seneca lab PC or personal PC meeting course specs).Your external SSD with at least 500 GB of dedicated space for this course.Your assigned UID (from Blackboard Grades) handy for addressing.Your physically printed OSM620 Lab Logbook for notetaking and saving commands.Optional, but recommended: Caffeine delivery system.  ","version":"Next","tagName":"h3"},{"title":"Investigation 1: Downloading Installation Media​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-1-downloading-installation-media","content":" In this investigation, you will be downloading your Windows OS installation media by logging into your Seneca-based Azure account. You will also generate your personal serial keys.  Navigate to the Microsoft Azure site: portal.azure.comUse your Seneca e-mail address and password to login.Once on the main Azure page, look for the Search bar at the top of the page.In the Search bar, type: Education, then hit Enter.In the Education | Overview page, look to the left. You will see menu items already displayed on screen. (Overview, Learning resources, etc.)Inside Learning resources in the left menu, click on Software.In the main Software page, there is a Search bar just below the word Software (it says Search inside it.)In that search field, type and enter: Windows Server 2025 DatacenterIn the item that appears below (there should only be one), click the link for Windows Server 2025 Datacenter.On the right, an information box appears describing the software. Using your mouse to hover over this information box, scroll down to the bottom.You should now see two items: View Key and DownloadClick on Download first to begin downloading the Server 2025 ISO. You will need this for your operating system installation. (Don't forget where you've saved it!)While the ISO file is downloading, click on View Key.Copy this key into a text file that you save locally on your personal computer or personal USB key. You will need this for the Server installation and for any reinstalls later in the semester. Do not lose this key and do NOT share it with anyone!Repeat steps 8-14 for the Windows 11 Education ISO and serial key. You will need that for later.  Reminder: Always store all serial keys in a secure location only you have access to.  ","version":"Next","tagName":"h2"},{"title":"Investigation 2: Using VMware Workstation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-2-using-vmware-workstation","content":" The use of VMware Workstation is required for this course. You can either use a Seneca Lab computer (Option 1a / Option 1b) or a personal computer (Option 2).  If you use an external SSD, you can use both!  WARNING: Seneca Lab computers erase any locally saved data when restarted from their internal drives. Save all work to an external drive or online storage.  ","version":"Next","tagName":"h2"},{"title":"Option 1a: Seneca Lab Computers w/VMware Workstation Installed Locally​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#option-1a-seneca-lab-computers-wvmware-workstation-installed-locally","content":" How do you know if your particular Seneca Lab classroom has VMware Workstation installed?  When you log in, the VMware Workstation icon will be visible on the desktop. If it is not, jump to Option 1b.  Log in to the Seneca workstation with your Seneca username (don't include @myseneca.ca) and password.Once the desktop has fully loaded, double-click on the VMware Workstation icon on the desktop. (If not present, jump to Option 1b instructions.)When the VMware Workstation application appears on screen, continue to the next Investigation.  ","version":"Next","tagName":"h3"},{"title":"Option 1b: Seneca Lab Computers without VMware Workstation Installed​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#option-1b-seneca-lab-computers-without-vmware-workstation-installed","content":" Do not use this option if your lab computer already has VMware Workstation installed. Go back to Option 1a.  Log in to the Seneca workstation with your Seneca username (don't include @myseneca.ca) and password.Once the desktop has fully loaded, double-click on the Seneca MyApps icon on the desktop.In the browser that launches, log in with your Seneca credentials.Do not ignore dialog boxes! Read them carefully instead of just clicking Cancel or randomly.In the search bar in the middle of the screen, type VMware and hit Enter.One result should show up, VMware WS Pro. Click this result.In the new VMware WS Pro page, click on the version number (Example: 17.6.1). This will launch the application over the network.Click on allow for any dialog boxes that appear. Remember, do not ignore dialog boxes!Be patient. It can take a bit for the background files to transfer over the network.When complete, the VMware Workstation application should appear on screen. (You will also see the VMware Workstation icon on the desktop. You can launch it from here if you accidentally close the program.)Proceed to the next investigation.  ","version":"Next","tagName":"h3"},{"title":"Option 2: Personal Computer​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#option-2-personal-computer","content":" Part 1: Computer Hardware Requirements​  To run this course and its tech on a personal computer, it must meet the following minimum system requirements:  CPU: 6-core Intel/AMDRAM: 32 GBStorage: 500 GB SSD free, reserved for this course (if external, USB3.0 or higher)Internet connection: High speed, stable  CPU architecture is vital. You cannot use ARM or SnapDragon based computers for this course. This includes all Apple Silicon computers (M1/M2/M3/M4, etc).  Part 2: Registering Your Broadcom Account​  Broadcom (formerly VMware) now requires account registration before you can download the VMware Workstation software. Follow the instructions below to do so. You only have to do this once. (If you already have an account using your Seneca e-mail, skip to Part 3.)  Visit the Broadcom registration site: profile.broadcom.com/web/registrationProvide your Seneca e-mail address and continue.You will be sent a verification code. Check your Seneca e-mail and enter the code on the page.On the Complete your Registration page, enter your information and click Create Account.On the Registered Successfully! page, you can skip the rest and simply click I'll do it later.At the top right of the screen, click on the Login button. (No, you aren't logged in automatically. Yes, it's annoying.)Enter your Seneca e-mail address as your username and the password you chose on Part 4 as your credentials.When complete, you should see your name in the top right of the screen instead of Login. If not, attempt to log in again or ask for help.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Downloading VMware Workstation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-3-downloading-vmware-workstation","content":" Go to this link: Download VMware WorkstationClick on VMware Workstation Pro 17 for WindowsClick on the highest version available. (17.6.3 as of last update)On the next screen, click on the blue link inside I agree to the Terms and Conditions to open a new tab with their terms and conditions. Do not close this window.Back in the previous window/tab that's still open, now click the checkbox for I agree to the Terms and Conditions.Click on the little cloud icon next to the name of the download file.Click the Yes button when the dialog box pops up.In the Trade Compliance and Download Conditions screen, fill in the following school information: Address1: 1750 Finch Ave ECity: North YorkState/Province: OntarioCountry: CanadaZip/Postal Code: M2J 2X5 Finally click on the cloud icon again to begin the actual download.If you ever need to download the software again, you won't have to go through any of the registration mess. Follow Part 3, Steps 1-3, then Part 9.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Install VMware Workstation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-4-install-vmware-workstation","content":" Find the downloaded .exe file and run the installer.Follow all prompts and install.  ","version":"Next","tagName":"h3"},{"title":"Part 5: Launch VMware Workstation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-5-launch-vmware-workstation","content":" Open VMware Workstation from your desktop or the Start Menu.When asked, paste in your serial key.Proceed to the next Investigation.  ","version":"Next","tagName":"h3"},{"title":"Investigation 3: VM1 Installation - Windows Server 2025 Datacenter (srv1)​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-3-vm1-installation---windows-server-2025-datacenter-srv1","content":" Hypervisor: VMware WorkstationName: srv1-cjohnson30RAM: 16 GBCPU: 6 coresStorage: 250 GBNetworking: 2 NICsISO: Windows Server 2025  Flowchart Visualization of Investigation 3​    ","version":"Next","tagName":"h2"},{"title":"Part 1: Setup Instructions​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-1-setup-instructions","content":" In the main window, you should see a large + symbol icon titled Create a New Virtual Machine. Click it. In the new dialog box, keep Typical selected and click the Next button. On the next screen, Guest Operating System Installation, do the following: Select Installer disc image file (ISO): Now click Browse. Navigate to where you saved your Windows Server 2025 Datacenter downloaded ISO and select it. Once selected, the previous screen should now say: Windows Server 2025 detected. This operating system will use Easy Install. If it doesn't, you haven't selected the right file, or your download was corrupted. Ask for help. Click Next. On the &quot;Easy Install Information&quot; screen, do the following: Paste in your serial key.Version of Windows to install: Select Windows Server 2025 DatacenterPersonalize Windows: Full Name: AdministratorPassword (both fields): Select a strong password you will remember. You will use this same password for all VMs in this course.Do not select &quot;Log on automatically&quot;.Click Next. On the &quot;Name the Virtual Machine&quot; screen, do the following: Virtual machine name: srv1-senecausername Explanation: For example, if my Seneca e-mail address is cjohnson30@myseneca.ca, then my Seneca username is cjohnson30. This would give me a VM name of srv1-cjohnson30. Location: If using an external SSD (like with our lab computers), click Browse and navigate to your external SSD. Create the following directory structure in your SSD: OSM620 &gt; Virtual Machines/srv1-cjohnson30 Select this new srv1-cjohnson30 folder. Make sure you now see this change in the Location field. Example: Z:\\OSM620\\Virtual Machines\\srv1-cjohnson30 Click Next. On the &quot;Specify Disk Capacity&quot; screen, do the following: Maximum disk size (GB): 250Select Split virtual disk into multiple files.Click Next. On the &quot;Ready to Create Virtual Machine&quot; screen, do the following: Click on Customize hardware... On the new &quot;Hardware&quot; screen, do the following: Select Memory, and change the value to: 16384Select Processors, and change: Number of processors: 1Number of cores per processor: 6Virtualize Intel VT-x/EPT or AMD-V/RVI: CheckedVirtualize CPU performance counters: UncheckedVirtualize IOMMU (IO memory management unit): Checked Select Network Adapter and confirm: Connected at power on: CheckedNAT: Checked Click on the Add... button on the bottom left of the Hardware window. Select Network Adapter and click Finish.Back in the Hardware window, click on Network Adapter 2.Under Network connection, click the Custom: Specific virtual network radio button.Just below that, click the drop-down (it likely says VMnet0 by default). Find and select VMnet10.Click Close. Back in the &quot;Ready to Create Virtual Machine&quot; screen, click Finish. The virtual machine should launch. If you get a dialog box about Side channel mitigations, check the box for Do not show this hint again and click OK. Your new Virtual Machine should now finish creating and then turn on and begin the OS installation. Windows installation is automated at this point and won't require any input from you. It may restart several times. Time Note: Installation may take some time. Feel free to get some caffeine or make a sandwich. Eventually, you will be presented with the desktop and the VMware Tools installer having completed and asking if you'd like to restart. Choose Yes. Once you've restarted, your installation is complete.  ","version":"Next","tagName":"h3"},{"title":"Investigation 4: Post-Installation Tasks (srv1)​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-4-post-installation-tasks-srv1","content":" After installing a new operating system, there are always a number of post-installation tasks to complete. These aren't optional!  Overview Check-In: srv1 Internet Connection​  Let's take a quick look at an overview of our NAT Internet connection as it currently stands. It's important to understand how everything is connected.    ","version":"Next","tagName":"h2"},{"title":"Part 1: Applying Time Zone Settings​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-1-applying-time-zone-settings","content":" This one is fairly straight-forward. Having the proper time zone set (EST) is essential for proper time keeping and ensuring encrypted webpages connect properly.  In the Server Manager application, click on Local Server in the left-hand menubar.In the main Properties area, on the right-hand column, look for the Time Zone line. It should say (UTC-05:00) Eastern Time (US &amp; Canada).If the Time Zone line item doesn't say the above, click on the displayed time zone and change it to UTC-05:00 as seen above.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Server Name Change​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-2-server-name-change","content":" The default name applied to your new server will be semi-randomized. For proper identification (and to not wonder which server you're on when you have several), we're going to change this.  In the Server Manager application, click on Local Server in the left-hand menubar.In the main Properties area, on the left-hand column, look for the Computer name line.Click the current computer name.In the System Properties dialog box that pops up, find the Change button and click it. (Ignore the Computer Description field. It's tempting, but wrong!)In the new Computer Name/Domain Changes dialog box that pops up, find the Computer name field. Replace it with srv1-SenecaUsername.When you click OK, the system will warn you about restarting. Choose to restart the system when asked.Once you've restarted and logged back in, go back to the Server Manager from Part 1 and double-check your new computer name is correct. Do not skip this step!If it is, you're done!  ","version":"Next","tagName":"h3"},{"title":"Part 3: Windows Activation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-3-windows-activation","content":" Activating Windows unlocks certain settings and features. Since you've used your valid serial key (right?), you can activate with Microsoft easily.  In the Server Manager application, click on Local Server in the left-hand menubar.In the main Properties area, on the right-hand column, look for the Product ID line.Click on the Not activated link.Follow the instructions in the popup dialog box. If unable to activate easily, ask your professor for help.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Installing OS Updates​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-4-installing-os-updates","content":" A critical part of a security-conscious mindset is running regular updates. This is NOT something you do only once at the start of installation. You should be running these regularly to keep up to date with security fixes and zero-day exploits.  If you're already in the Settings application, look through the left menubar for Windows Update and click it. (Otherwise, click on the Start menu and search for Updates.)In the Windows Update main screen, scroll down to Advanced Options and click it.The very first option is Receive updates to other Microsoft products. Toggle this from Off to On.At the top of the screen, where it says Windows Update &gt; Advanced Options, click Windows Update to go back to the previous screen.You will likely already see updates ready. Click on Download &amp; install all.As you might expect, this can take a while. Timing will depend on your Internet connection, how fast your computer is, how fast your SSD is, and how many updates there are. Please be patient. Your computer may restart.Once updates have begun, take a break while it does its thing. Grab a drink, make a sandwich, text a friend.After updates are complete, go back into Windows Update and click Check for updates again. There may be (and often times are) more.If there are more updates, complete Steps 5-8 again until there are no more updates available.In Windows Update, scroll back down to Advanced options again and click it.Inside Windows Update &gt; Advanced options scroll down to Optional updates and click it.Select all available updates that appear (you may have to expand some lists).Click Download &amp; install.Once all updates are complete, restart your VM if asked, then move onto the next section.  ","version":"Next","tagName":"h3"},{"title":"Part 5: Internet Connectivity Check w/Edge​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-5-internet-connectivity-check-wedge","content":" We'll double-check we can access the Internet using the built-in Microsoft Edge application.  Open Microsoft Edge.Go through the first-run questions.When able, use the browser to navigate to eff.org.If the website loads, move on to the next step. If not, ask your professor for help.  ","version":"Next","tagName":"h3"},{"title":"Part 6: Download and Install Firefox​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-6-download-and-install-firefox","content":" There are a ton of feature and privacy reasons not to use Microsoft Edge. Instead, we'll download and install Mozilla Firefox and use that going forward.  Open Microsoft Edge.Navigate to: Download Mozilla FirefoxWait for the installer to finish, then open it.Follow the installer instructions.Once complete, open Firefox and navigate to eff.org to check everything is okay.Close Microsoft Edge forever.  ","version":"Next","tagName":"h3"},{"title":"Investigation 5: VM2 Installation - Windows Server 2025 Core (srv2)​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-5-vm2-installation---windows-server-2025-core-srv2","content":" Hypervisor: VMware WorkstationName: srv2-cjohnson30RAM: 4 GBCPU: 2 coresStorage: 250 GBNetworking: 2 NICsISO: Windows Server 2025  Flowchart Visualization of Investigation 5​    ","version":"Next","tagName":"h2"},{"title":"Part 1: Setup Instructions​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-1-setup-instructions-1","content":" In the main window, you should see a large + symbol icon titled Create a New Virtual Machine. Click it. In the new dialog box, keep Typical selected and click the Next button. On the next screen, Guest Operating System Installation, do the following: Select Installer disc image file (ISO):Now click Browse. Navigate to where you saved your Windows Server 2025 Datacenter downloaded ISO and select it. Once selected, the previous screen should now say: Windows Server 2025 detected. This operating system will use Easy Install. If it doesn't, you haven't selected the right file, or your download was corrupted. Ask for help. Click Next. On the &quot;Easy Install Information&quot; screen, do the following: Paste in your serial key.Version of Windows to install: Select Windows Server 2025 Datacenter (Core)Personalize Windows: Full Name: AdministratorPassword (both fields): Select a strong password you will remember. You will use this same password for all VMs in this course. Do not select &quot;Log on automatically&quot;.Click Next. On the &quot;Name the Virtual Machine&quot; screen, do the following: Virtual machine name: srv2-senecausername Explanation: For example, if my Seneca e-mail address is cjohnson30@myseneca.ca, then my Seneca username is cjohnson30. This would give me a VM name of srv2-cjohnson30. Location: If using an external SSD (like with our lab computers), click Browse and navigate to your external SSD. Create the following directory structure in your SSD: OSM620 &gt; Virtual Machines &gt; srv2-cjohnson30Select this new srv2-cjohnson30 folder.Make sure you now see this change in the Location field. (Example: Z:/OSM620/Virtual Machines/srv2-cjohnson30) Click Next. On the &quot;Specify Disk Capacity&quot; screen, do the following: Maximum disk size (GB): 250Select Split virtual disk into multiple files.Click Next. On the &quot;Ready to Create Virtual Machine&quot; screen, do the following: Click on Customize hardware... On the new &quot;Hardware&quot; screen, do the following: Select Memory, and change the value to: 4096Select Processors, and change: Number of processors: 1Number of cores per processor: 2Virtualize Intel VT-x/EPT or AMD-V/RVI: CheckedVirtualize CPU performance counters: UncheckedVirtualize IOMMU (IO memory management unit): Checked Select Network Adapter and confirm: Connected at power on: CheckedNAT: Checked Click on the Add... button on the bottom left of the Hardware window. Select Network Adapter and click Finish.Back in the Hardware window, click on Network Adapter 2.Under Network connection, click the Custom: Specific virtual network radio button.Just below that, click the drop-down (it likely says VMnet0 by default). Find and select VMnet10.Click Close. Back in the &quot;Ready to Create Virtual Machine&quot; screen, click Finish. The virtual machine should launch. If you get a dialog box about Side channel mitigations, check the box for Do not show this hint again and click OK. Your new Virtual Machine should now finish creating and then turn on and begin the OS installation. Windows installation is automated at this point and won't require any input from you. It may restart several times. Time Note: Installation may take some time. Feel free to get some caffeine or make a sandwich. Eventually, you will be presented with the Command Prompt window open to the SConfig text-based application, and the VMware Tools installer having completed and asking if you'd like to restart. Choose Yes. Once you've restarted, your installation is complete.  ","version":"Next","tagName":"h3"},{"title":"Investigation 6: Post-Installation Tasks (srv2)​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#investigation-6-post-installation-tasks-srv2","content":" After installing a new operating system, there are always a number of post-installation tasks to complete. These aren't optional!  ","version":"Next","tagName":"h2"},{"title":"Overview Check-In: srv2 Internet Connection​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#overview-check-in-srv2-internet-connection","content":" Let's take a quick look at an overview of our NAT Internet connection as it currently stands since our newest server addition. It's important to understand how everything is connected as we continue to build out our VMs.    ","version":"Next","tagName":"h3"},{"title":"Part 1: Applying Time Zone Settings​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-1-applying-time-zone-settings-1","content":" This one is fairly straight-forward. Having the proper time zone set (EST) is essential for proper time keeping and ensuring encrypted webpages connect properly.  In the SConfig application, select Option 9 (Date and Time). Use your keyboard.The Date and Time dialog box pops up.Look for the Time Zone line. It should say (UTC-05:00) Eastern Time (US &amp; Canada).If the Time Zone line item doesn't say the above, click on the Change time zone... button and change it to UTC-05:00 as seen above.Click OK to close out of Date and Time.Back in SConfig, choose Option 9 again to confirm your changes have stuck. If yes, continue to Part 2.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Server Name Change​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-2-server-name-change-1","content":" The default name applied to your new server will be semi-randomized. For proper identification (and to not wonder which server you're on when you have several), we're going to change this.  In the SConfig application, select Option 2 (Computer name). Use your keyboard.In the new Computer name screen, enter your new computer name in the waiting text field: srv2-SenecaUsernamePress Enter on your keyboard to confirm the change.The system now asks you about restarting. Enter Y to choose yes and hit the Enter key to confirm.Once you've restarted and logged back in, go back to the Computer name screen from Part 2 and double-check your new computer name is correct. Do not skip this step!If it is, you're done!  ","version":"Next","tagName":"h3"},{"title":"Part 3: Windows Activation​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-3-windows-activation-1","content":" Activating Windows unlocks certain settings and features. Since you've used your valid serial key (right?), you can activate with Microsoft easily.  In the SConfig application, select Option 11 (Windows activation). Use your keyboard.In the new Windows activation screen, enter 2 (Activate Windows) and hit Enter to begin the activation process with Microsoft.Follow the instructions on screen. If unable to activate easily, ask your professor for help.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Installing OS Updates​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#part-4-installing-os-updates-1","content":" A critical part of a security-conscious mindset is running regular updates. This is NOT something you do only once at the start of installation. You should be running these regularly to keep up to date with security fixes and zero-day exploits.  IMPORTANT: If Windows Update fails with errors, you may have Internet connectivity issues. Ask your professor for help!  In the SConfig application, select Option 5 (Update settings). Use your keyboard.In the new Update setting screen, enter 5 (Opt-in to Microsoft Update) and hit Enter to confirm.The next screen will ask you confirm again. Enter y and hit Enter to continue. (Then, hit Enter again.)In the SConfig application, select Option 6 (Install updates). Use your keyboard.In the new Install updates screen, enter 1 (All quality updates) and hit Enter to confirm.After a short check, you are asked which updates to install. Select a to install all updates and hit Enter to confirm.As you might expect, this can take a while. Timing will depend on your Internet connection, how fast your computer is, how fast your SSD is, and how many updates there are. Please be patient.Once updates have begun, take a break while it does its thing. Grab a drink, make a sandwich, text a friend.If asked to restart, choose yes.After updates are complete, go through Steps 4-6 again. Do so until the system tells you there are no new updates. (It may take a few cycles to get them all.)When complete, shut down srv2 safely. Use the on-screen menu options in SConfig to do so.  That's it! Now you're done. Congratulations!  ","version":"Next","tagName":"h3"},{"title":"Lab 1 Sign-Off​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#lab-1-sign-off","content":" It is extremely important that you complete Lab 1 correctly as these Windows Server installs will be the platform on which the rest of the course will be completed.  When you have completed Lab 1, ask your instructor to come and check your installation. This must be done in class. They will ask you to complete a set of tasks/commands. If everything has been completed correctly, your instructor will mark your Lab 1 as complete.  ","version":"Next","tagName":"h2"},{"title":"Sign-Off Checklist​","type":1,"pageTitle":"Lab 1 - Environment Setup","url":"/OSM620/Labs/lab1#sign-off-checklist","content":" Open VMware Hardware Settings window for srv1 and srv2.srv1 is currently running and logged in.srv2 is currently running and logged in.No new updates available for both VMs.Server names have been applied correctly.Time zone is in EST.Servers have been properly activated.srv1: Firefox installed and open. ","version":"Next","tagName":"h3"},{"title":"Lab 2 - Hyper-V, NAT, and Windows Clients","type":0,"sectionRef":"#","url":"/OSM620/Labs/lab2","content":"","keywords":"","version":"Next"},{"title":"Lab Preparations​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#lab-preparations","content":" ","version":"Next","tagName":"h2"},{"title":"Purpose of Lab 2​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#purpose-of-lab-2","content":" In this lab, you’ll move beyond basic VM deployment and learn to create nested virtualization environments. This is a crucial skill for modern sysadmins and cloud architects. You’ll enable the Hyper-V role on your Windows Server, build a secure internal network using Hyper-V switches, and deploy Windows 11 client VMs within your existing server VM. You’ll also set up NAT and routing, allowing your nested clients to access the internet safely through your server.  By the end, you’ll have a working mini-enterprise: one physical computer running a server VM, which itself is hosting client VMs. Just like real-world cloud and enterprise setups! You’ll gain hands-on experience with Hyper-V, RRAS, and NAT, and build a technical foundation for future labs in DHCP, DNS, and security.  ","version":"Next","tagName":"h3"},{"title":"Objectives​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#objectives","content":" By the end of this lab, you will be able to:  Enable the Hyper-V role on a Windows Server 2025 VM and configure virtual networking.Build and configure a Hyper-V External Virtual Switch bound to a specific NIC.Set up Routing and Remote Access (RRAS) for network address translation (NAT) between internal and external networks.Deploy Windows 11 client VMs inside Hyper-V, configuring hardware and storage as needed.Assign static IPs and ensure that internal client VMs can reach the internet via NAT on your server.Practice real-world sysadmin tasks: managing nested VMs, routing, and internal networks.  ","version":"Next","tagName":"h3"},{"title":"Minimum Requirements​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#minimum-requirements","content":" Before beginning, you must have:  Completed Lab 1 in full, with both srv1 and srv2 working, activated, and updated.Attended the Week 2 lecture, or carefully read through the Week 2 slides.Downloaded the Windows 11 Education ISO and your product key (from Lab 1).Access to VMware Workstation and your external SSD with at least 200 GB of free space remaining.Your printed OSM620 Lab Logbook for notetaking and command recording.A basic understanding of server roles, virtual networking, and Windows installation processes.Caffeine or snack of your choice: nested virtualization can be a long process!  ","version":"Next","tagName":"h3"},{"title":"Investigation 1: Hyper-V Role Installation and Switch Setup (srv1)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#investigation-1-hyper-v-role-installation-and-switch-setup-srv1","content":" In this investigation, you will install the Hyper-V role on srv1 and create a Hyper-V virtual switch that uses your existing Internal Network adapter.  Your Hyper-V switch will be named Internal Network (Hyper-V).  ","version":"Next","tagName":"h2"},{"title":"Part 1: Install the Hyper-V Role​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-1-install-the-hyper-v-role","content":" Open the Server Manager application and go to Add Roles and Features.Installation Type: Keep Role-based or feature-based installation selected.Server Selection: Ensure your local server (srv1) is selected.Server Roles: Check Hyper-V. When prompted to &quot;Add features that are required for Hyper-V&quot;, click Add Features. Features: Leave defaults (the Hyper-V Management Tools are already included).Hyper-V page: When asked about Virtual Switches, select Internal Network only.Migration for live migrations: leave unchecked.Default Stores: leave defaults. Confirmation: Check &quot;Restart the destination server automatically if required&quot;.Click Install.Wait for installation to complete. If prompted, allow the reboot. Log back in when finished.  Note: It’s normal for Server Manager to take a minute or two after reboot to show the Hyper-V tile.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Rename the Hyper-V Virtual Switch​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-rename-the-hyper-v-virtual-switch","content":" As part of our Hyper-V role installation, we selected the Internal Network (Part 1, Step 6.1).  This has created a virtual switch on the server. For easy management, we'll rename it.  Our new virtual switch name will be: HQ Network  In Server Manager, click Tools (top-right) and select Hyper-V Manager. In the left pane, click your server name (e.g., srv1-…). In the right Actions pane, click Virtual Switch Manager…. Under the Virtual Switches column on the left, look for the switch that's already been created. It will likely have a name similar to: Intel(R) 82574L Gigabit Network Connection - Virtual Switch In the Virtual Switch Properties window: Name: Change to HQ Network Ensure the External network radio button is selected. Reminder: This is the adapter you renamed earlier to Internal Network and set to 10.0.UID.1. Ensure &quot;Allow management operating system to share this network adapter&quot; is checked. Click OK. If you see a warning about temporary network disruption, click Yes. Naming note: You are creating an External Hyper-V switch, but you’re binding it to the Windows NIC you named Internal Network. That’s correct. You will end up with a third network adapter called: vEthernet (HQ Network) Go back to Server Manager &gt; Local Server and refresh. You should now see the following two networks: External Network: Assigned by DHCPvEthernet (HQ Network): IPv4 addess assigned by DHCP, IPv6 enabled  ","version":"Next","tagName":"h3"},{"title":"Part 3: Configure Network Setting for Hyper-V Switch​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-3-configure-network-setting-for-hyper-v-switch","content":" Now that we've created the Hyper-V network adapter, we have to give it an IP address. This will let our Hyper-V VMs talk to the server, and eventually, bridge our Internet connection.  In Server Manager &gt; Local Server, click on the entry next to vEthernet (HQ Network). This opens the Network Connections window.Verify you now see a third network adapter: vEthernet (HQ Network)Right-click it → Properties and do the following: Internet Protocol Version 6 (TCP/IPv6): UncheckedInternet Protocol Version 4 (TCP/IPv4): Select and click Properties IPv4 Address: 10.0.UID.1Subnet Mask: 255.255.255.0Leave all other fields blank and click OK. Back in Server Manager &gt; Local Server, refresh. You should now see the following two networks: External Network: Assigned by DHCPvEthernet (HQ Network): 10.0.UID.1  ","version":"Next","tagName":"h3"},{"title":"Investigation 2: RRAS and NAT​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#investigation-2-rras-and-nat","content":" Our server now has access to two networks:  External Network: Connection to the InternetvEthernet (HQ Network): Internal network only between srv1 and the Hyper-V VMs we'll create in Investigation 3. This network does not have access to the Internet.  If we want to give our Hyper-V machines Internet access, we need to route network traffic between the two networks using srv1 as a bridge. This keeps our Hyper-V machines on a secure network, and Internet access is handled and monitored by our Windows Server.  This will involve setting up routing and network address translation (NAT).  Welcome to Microsoft's Routing and Remote Server (RRAS).  ","version":"Next","tagName":"h2"},{"title":"Part 1: Installing the Remote Access Role​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-1-installing-the-remote-access-role","content":" Open the Server Manager application and go to Add Roles and Features.Installation Type: Keep Role-based or feature-based installation selected.Server Selection: Ensure your local server (srv1) is selected.Server Roles: Check Remote Access.Features: Leave defaults (the Hyper-V Management Tools are already included).Remote Access page: Click Next. The Add Roles and Features Wizard dialog box appears. Leave defaults and select Add Features. Remote Access &gt; Role Services page: Check the following and click Next when ready: Direct Access and VPN (RAS)Routing Keep defaults and select Next on the following pages: Web Server Role (IIS)Web Server Role (IIS) &gt; Role Services Confirmation: Click Install.In the Results page: When installation has completed, click on the &quot;Open the Getting Started Wizard&quot; link.The wizard opens. Make no changes and close it. (This just removes the system nagging.)Back in Results, click Close.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Enabling NAT with RRAS​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-enabling-nat-with-rras","content":" You will now install the tools for routing and NAT bridging discussed at the top of this investigation using the Routing and Remote Access Server (RRAS) we've just installed.  Open the Server Manager application and go to Tools &gt; Routing and Remote Access.This opens the Routing and Remote Access application.In the right-hand column, find SRV1, right-click it, and select Configure and Enable Routing and Remote Access.The setup wizard appears. Click Next.Configuration: Select the Custom configuration radio button.Custom Configuration: Select (checkbox) only the following: NATLAN routing Summary window: Click Finish.The Routing and Remote Access service status dialog box appears. Click Start service.It may take a few moments for the service to fully start. Be patient.Once the Routing and Remote Access application reappears, move to the next part.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Configuring NAT with RRAS​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-3-configuring-nat-with-rras","content":" It's now time to configure the routing and NAT bridging between the two networks.  Open the Routing and Remote Access application.In the right-hand column, expand SRV1, then expand IPv4.Right-click on NAT and select New Interface.Select the External Network entry and click OK.In the Network Address Translation Properties window, select the following and click OK when ready: Public interface connected to the InternetEnable NAT on this interface Right-click on NAT and select New Interface again.Select the vEthernet (HQ Network) entry and click OK.In the Network Address Translation Properties window, select the following and click OK when ready: Private interface connected to private network Back in the NAT window, you should see two created interfaces: External NetworkvEthernet (HQ Network) Keep the application open on NAT and minimize. We'll come back to it later.That's it! Move on to the next Investigation.  ","version":"Next","tagName":"h3"},{"title":"Investigation 3: Installing Windows Client 1 with Hyper-V (client1)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#investigation-3-installing-windows-client-1-with-hyper-v-client1","content":" In this investigation, you'll create your first Hyper-V based virtual machines.  These will be Windows 11 client machines. Think of these as typical workstations in a corporate office.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Creating the Hyper-V Virtual Machine​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-1-creating-the-hyper-v-virtual-machine","content":" Hypervisor: Hyper-VName: client1-SenecaUsernameRAM: 4 GBCPU: 2 processorsStorage: 64 GBNIC: 1 (default)Security: Enable Trusted Platform ModuleISO: Windows 11 Education  Drag and drop the Microsoft Windows 11 ISO file from Lab 1 onto the desktop of srv1. It should copy the file there. If it doesn't, ask your professor for help before continuing.Open the Server Manager application and go to Tools &gt; Hyper-V Manager.This opens the Hyper-V Manager application.In the right-hand column, click on New &gt; Virtual Machine...The New Virtual Machine Wizard appears.On the Before You Begin page, check the Do not show this page again option and click Next.Specify Name and Location: Name: client1-SenecaUsernameLeave the rest at their defaults. Specify Generation: Leave defaults.Assign Memory: 4096 MBConfigure Networking: Connection: HQ Network Connect Virtual Hard Disk: Create a virtual hard disk selected.Size: 64 GBLeave the rest at their defaults. Installer Options: Select Install an operating system from a bootable CD/DVD-ROMSelect Image file (.iso):Click Browse and select the Windows 11 ISO image file you copied to srv1. Summary: Click Finish.  WARNING: Do not start the client1 VM, yet! We need to modify it. See Part 2.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Modifying client1 VM for Windows 11​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-modifying-client1-vm-for-windows-11","content":" Despite Hyper-V being a Microsoft product and Windows 11 being a Microsoft product, Hyper-V doesn't automatically add everything needed to run Windows 11.  If you think this is silly... It is. Welcome to the wonderful world of IT.  In the Hyper-V Manager application, select the client1 VM.In the right-hand column, look for and click on the *Settings... option.This opens up the settings window for the client1 VM. Change the following:Processor: Number of virtual processors: 2Make sure to click Apply! Security: Encryption Support &gt; Enable Trusted Platform Module: CheckedMake sure to click Apply! Click OK to close the VM settings window.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Hyper-V Client Management​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-3-hyper-v-client-management","content":" Knowing how to power on and off your Hyper-V VM is important and includes a few cool features.  In the Hyper-V Manager application, select the client1 VM. (Single click. Do not double-click.)  On the right-hand column, towards the bottom, you have:  Connect: This connects to the VM. It will open a virtual monitor to the machine. Just like a normal computer, if the computer (VM) is off, connecting to it will do nothing but give you a blank screen.Settings: You used this in Part 2. Modify VM settings. Don't change anything unless told to.Start: Power on the VM. If you are already connected to it, you will see it power up. If not connected, it still powers up. Click on Connect to open a screen to it.  When the VM is powered on, you have additional options in that column:  Turn Off: This is the equivalent of pulling the power plug. Don't do this unless the VM is fully frozen and not responding from commands. (This is the &quot;Nuke it from orbit.&quot; option. It works, but it's overkill and may cause damage.) Shut down: This is the polite version of the option above. Hyper-V will send a gentle &quot;Please shut down.&quot; command to the Windows 11 client. If the Windows 11 client is working, it'll close all applications and shut down properly. Hyper-V detects the OS having shut down and then powers off the VM itself. (This is your preferred option.) Reset: Equivalent to pressing the Reset physical button on a computer. Yanks the power and then turns it back on. AKA &quot;Nuke and reload.&quot; (Again, don't use unless unresponsive.) The Start button disappears when the VM is on, which makes sense.  There are other options, but those are enough to get by for now.  IMPORTANT: Always safely shut down all Hyper-V VMs before shutting down your Windows Server!  ","version":"Next","tagName":"h3"},{"title":"Part 4: Installing Windows 11 (client1)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-4-installing-windows-11-client1","content":" Once the Windows 11 Setup screen appears:On Select language settings, keep the defaults and click Next.On Select keyboard settings, keep the defaults and click Next.On Select setup option, do the following: Select Install Windows 11Check the box next to I agree everything will be deleted, including files, apps, and settingsClick Next. On the Product key page, enter your product key and click Next.On Applicable notices and license terms, click Accept.On Select location to install Windows 11, keep the defaults and click Next.On Ready to install, click Install.The Windows Installer will now install the OS. This may take some time, and the percentage may freeze at certain points. Be patient.When the installer finishes, Windows 11 will start up and you will be launched into the First-Run Setup. Go to Part 3.  ","version":"Next","tagName":"h3"},{"title":"Part 5: First-Run Setup​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-5--first-run-setup","content":" On Is this the right country or region?, select Canada and click Yes.On Is this the right keyboard layout or input method?, stick with the default and click Yes.On Want to add a secondary keyboard layout?, click Skip.  Note: If it has an Internet connection, Windows will now check for available updates from the Internet. If it finds any, it will install them automatically. If it doesn't have an Internet connection, this step will be skipped.  This process may take some time. Please be patient. Your VM may restart on its own.  ","version":"Next","tagName":"h3"},{"title":"Part 6: Account Creation​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-6-account-creation","content":" Now that language/keyboard and installer updates have been applied, it's time to create your account.  Note: Steps 1-2 may not be necessary. If you're asked for a name, start with Step 3.  On Let's set things up for work or school, select Sign-in options.On this next screen, click on Domain join instead.On Who's going to use this device?, enter your Seneca username, (Not your full name), then click Next.On Create a super memorable password, enter the same password you've used for your other VMs and click Next.Confirm it on the next screen and continue.On Now add security questions, fill out three security questions, clicking Next after each.On Let Microsoft and apps use your location, select No, then click Accept.On Find my device, select No, then click Accept.On Send diagnostic data to Microsoft, scroll down to select Required only, then click Accept.On Improve inking &amp; typing, select No, then click Accept.On Get tailored experiences with diagnostic data, select No, then click Accept.  Note: If it has a valid Internet connection, Windows will now check for more available updates. As before, if it finds any, it will install them automatically. If not, it will simply continue.  This process may take some time. Please be patient. Your VM may restart on its own.  Once complete, you will be presented with a login screen. Move to the next part to continue.  ","version":"Next","tagName":"h3"},{"title":"Investigation 4: Post-Installation Tasks (client1)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#investigation-4-post-installation-tasks-client1","content":" In this investigation, we'll log in for the first time and run through several post-installation tasks both necessary and for user comfort.  ","version":"Next","tagName":"h2"},{"title":"Part 1: First Login​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-1-first-login","content":" Enter your password to login. First-login may take a few minutes as your profile is set up.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Network Configuration​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-network-configuration","content":" Click on the Start button and search for Network Connections. Open it when found.Find the only Ethernet adapter (it may have different names).Right-click it → Properties and do the following: Internet Protocol Version 6 (TCP/IPv6): UncheckedInternet Protocol Version 4 (TCP/IPv4): Select and click Properties IPv4 address: 10.0.UID.11Subnet mask: 255.255.255.0Default gateway: 10.0.UID.1Preferred DNS server: 10.0.UID.1Alternate DNS server: 8.8.8.8Leave all other fields blank and click OK. Open Microsoft Edge and nagivate to eff.org. If the page loads, you're done!  Check it out: You are now using RRAS+NAT on your Windows Server to make this Internet connection happen. In srv1, go back to the Routing and Remote Access application. Inside, go to SRV1 &gt; IPv4 &gt; NAT. The External Network entry now has non-zero numbers under the 'packets translated' columns. This is your routing and NAT from client1 at work! Refresh the page to see the count go up.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Setting the Time Zone​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-setting-the-time-zone","content":" Login again.Find the time on the bottom right of the screen (in the VM, not your host machine!)Right-click on the time and select Adjust date and time.Check the displayed time and time zone.The time should match current time, and the time zone should say &quot;(UTC-5:00) Eastern Time (US &amp; Canada)&quot;.If the time zone is wrong, change it to the value above.Confirm your time zone and time matches local time.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Setting Internal Computer Name​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-3-setting-internal-computer-name","content":" When we created our VM, we gave it the name client1-SenecaUsername. This only applies to how VMware Workstation sees the VM, not to how the internal Windows OS sees itself. We need to change that to match.  In the Settings window you still have open (or reopen it from the Search bar), look to the left-hand menu bar and select System.The very first thing you see at the top is the current computer name. This is what we're going to change.Click on the Rename text link.In the Name your device field, enter your VM's name: client1-SenecaUsername (replacing SenecaUsername with your actual username)Click Next.You will now be asked if you'd like to restart. Click Restart now.After restarting and logging back in, go into Settings &gt; System and confirm your computer name is now client1-SenecaUsername.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Windows Updates​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-4-windows-updates","content":" A critical part of a security-conscious mindset is running regular updates. This is NOT something you do only once at the start of installation. You should be running these regularly to keep up to date with security fixes and zero-day exploits.  If you're already in the Settings application, look through the left menubar for Windows Update and click it.In the Windows Update main screen, scroll down to Advanced Options and click it.The very first option is Receive updates to other Microsoft products. Toggle this from Off to On.At the top of the screen, where it says Windows Update &gt; Advanced Options, click Windows Update to go back to the previous screen.You will likely already see updates ready. Click on Download &amp; install all.As you might expect, this can take a while. Timing will depend on your Internet connection, how fast your computer is, how fast your SSD is, and how many updates there are. Please be patient. Your computer may restart.Once updates have begun, take a break while it does its thing. Grab a drink, make a sandwich, text a friend.After updates are complete, go back into Windows Update and click Check for updates again. There may be (and often times are) more.If there are more updates, complete Steps 5-8 again until there are no more updates available.In Windows Update, scroll back down to Advanced options again and click it.Inside Windows Update &gt; Advanced options scroll down to Optional updates and click it.Select all available updates that appear (you may have to expand some lists).Click Download &amp; install.  ","version":"Next","tagName":"h3"},{"title":"Investigation 5: Installing Windows Client 2 with Hyper-V (client2)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#investigation-5-installing-windows-client-2-with-hyper-v-client2","content":" In this investigation, you'll create your second Hyper-V based virtual machine. This will be another Windows 11 client.  To conserve resources and speed up installation, it's helpful to shutdown client1 while doing this.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Creating the Hyper-V Virtual Machine​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-1-creating-the-hyper-v-virtual-machine-1","content":" Create a second Hyper-V virtual machine with the following settings:  Hypervisor: Hyper-VName: client2-SenecaUsernameRAM: 4 GBCPU: 2 processorsStorage: 64 GBNIC: 1 (default)Security: Enable Trusted Platform ModuleISO: Windows 11 Education  ","version":"Next","tagName":"h3"},{"title":"Part 2: Installing Windows 11 (client2)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-2-installing-windows-11-client2","content":" Set this up exactly as you did with client1, with two important changes:  Computer Name: client2-SenecaUsernameIP address: 10.0.UID.12  ","version":"Next","tagName":"h3"},{"title":"Part 3: Post-Installation Tasks (client2)​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#part-3-post-installation-tasks-client2","content":" Don't forget to run your Post-Installation Tasks! These are the same as for client1  Once client2 is installed and has a working Internet connection, you're done!  ","version":"Next","tagName":"h3"},{"title":"Lab 2 Sign-Off​","type":1,"pageTitle":"Lab 2 - Hyper-V, NAT, and Windows Clients","url":"/OSM620/Labs/lab2#lab-2-sign-off","content":" It’s essential to complete Lab 2 correctly, as the nested virtualization setup will be the core environment for all advanced labs. Everything you do from this point (DHCP, DNS, security, and domain controller work) will depend on this structure being solid and consistent.  When you finish Lab 2, ask your instructor for a sign-off. Your instructor will check your configuration, verify networking, and confirm all VMs are working as required.  Sign-Off Checklist  Hyper-V role is installed and running on srv1.HQ Network (External Virtual Switch) exists and is bound to the correct NIC.RRAS (Routing and Remote Access) is installed and NAT is configured for the two networks: External Network: Internet access (DHCP-assigned)vEthernet (HQ Network): 10.0.UID.1/24 client1 and client2 are both running inside Hyper-V, with the following: Static IPs set: 10.0.UID.11 and 10.0.UID.12, respectively.Default gateway set to 10.0.UID.1Both can access the internet (test by browsing to eff.org).Both have correct computer names set.Both have time zone set to EST.Both are fully updated via Windows Update. Graceful shutdown: You can demonstrate safe start, shutdown, and reset procedures for Hyper-V VMs.All relevant steps, commands, and decisions are recorded in your Lab Logbook. ","version":"Next","tagName":"h2"},{"title":"Lab 5 - Implementing DHCP","type":0,"sectionRef":"#","url":"/OSM620/Labs/lab5","content":"","keywords":"","version":"Next"},{"title":"Investigation 1: Installing the DHCP Server Role on srv1​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#investigation-1-installing-the-dhcp-server-role-on-srv1","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Add the DHCP Server Role​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-1-add-the-dhcp-server-role","content":" Login to srv1 with your Administrator account.Open Server Manager.In the left menu, click on Local Server if you’re not already there.At the top right, click Manage &gt; Add Roles and Features.In the Add Roles and Features Wizard: On Installation Type, choose Role-based or feature-based installation. Click Next.On Server Selection, confirm Select a server from the server pool and choose srv1. Click Next.On Server Roles, scroll down and check DHCP Server.If prompted, click Add Features.Click Next through Features and DHCP Server pages.On Confirmation, click Install.Wait for installation to finish (may take a few minutes).When you see Installation succeeded on srv1, click Close.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Post-Install Configuration​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-2-post-install-configuration","content":" In Server Manager, at the top, a yellow exclamation (!) triangle will appear. Click it, then click Complete DHCP configuration.In the DHCP Post-Install Configuration Wizard: Click Commit.Click Close.  ","version":"Next","tagName":"h3"},{"title":"Investigation 2: Configuring DHCP on srv1​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#investigation-2-configuring-dhcp-on-srv1","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Create a New IPv4 Scope​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-1-create-a-new-ipv4-scope","content":" In Server Manager, at the top right, click Tools &gt; DHCP.In DHCP, expand your server’s name (srv1) under IPv4.Right-click IPv4 and choose New Scope…In the New Scope Wizard: Click Next.For Scope Name, enter: OSM620 Lab ScopeClick Next.For IP Address Range:Start IP address: 192.168.245.100End IP address: 192.168.245.199Subnet mask: 255.255.255.0Click Next.For Add Exclusions, leave blank. Click Next.For Lease Duration, leave default (8 days). Click Next.For Configure DHCP Options, select Yes, I want to configure these options now. Click Next.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Configure DHCP Options​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-2-configure-dhcp-options","content":" Router (Default Gateway):Enter your gateway IP from Lab 3, click Add, then Next.You can also check it now by opening Command Prompt and running: ipconfigDomain Name and DNS Servers:For Parent domain, enter your DNS domain (e.g., cjohnson30.com).For DNS Servers, your earlier DNS IP addresses should already be present.Click Next.WINS Servers:Leave blank. Click Next.Activate Scope:Select Yes, I want to activate this scope now. Click Next.Click Finish.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Confirm DHCP Scope and Settings​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-3-confirm-dhcp-scope-and-settings","content":" In the DHCP console, expand IPv4 &gt; OSM620 Lab Scope &gt; Address Pool.Make sure the address range is correct (should be .100 to .199).Under Address Leases, you won’t see anything yet—leases will appear as clients connect.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Setting DHCP Reservations​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-4-setting-dhcp-reservations","content":" Any servers on our network should have unchanging IP addresses so they can always be found. We did this manually with srv1, but we can use Reservations to give our other machines specific IP addresses.  When one of our VMs first boots up, it will go through the four-way DHCP handshake with the DHCP server to get networking information. By default, the DHCP server on srv1 will assign a randomly chosen, currently-unused IP address from our address pool (.100 to .199).  An IP reservation will cause the DHCP server to, instead, always give a specific machine the exact IP address we tell it to, and never give it out to others.  Normally, you'd only do this for other servers on your network and let basic clients receive a random address, but we'll reserve addresses for both srv2 and client1 for proof-of-concept.  On srv2, run ipconfig /all and write down the value on the Physical Address line. We'll need this shortly.Do the same thing on client1.Back on srv1, right-click on the Reservations folder and select New Reservation.For srv2:Reservation name: srv2-senecaUsername (Ex: srv2-cjohnson30)IP address: 192.168.245.102MAC address: 00-0C-29-7F-45-47Description: Windows Server 2025 Datacenter CoreSupported types: BothClick Add.Verify your new reservation is there by looking inside the Reservations folder.For client1:Reservation name: client1-senecaUsername (Ex: client1-cjohnson30)IP address: 192.168.245.103MAC address: 00-0C-29-88-7E-73Description: Windows 11 Education ClientSupported types: BothClick Add.Verify your new reservation is there by looking inside the Reservations folder.  ","version":"Next","tagName":"h3"},{"title":"Investigation 3: Switching Clients to Use the New DHCP Server for DNS​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#investigation-3-switching-clients-to-use-the-new-dhcp-server-for-dns","content":" Your srv2 (Server Core) and client1 (Windows 11) VMs are already set to receive their IP address via DHCP, but you previously set their DNS settings to point directly at srv1 during Lab 3. Now that srv1 is a fully working DHCP server, you’ll need to reset both VMs’ DNS settings to automatic so they get both their IP and DNS server from srv1.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Set srv2 (Server Core) DNS to DHCP​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-1-setsrv2server-core-dns-to-dhcp","content":" Log in as Administrator.At the prompt, run:  Get-NetIPInterface   Note the InterfaceIndex for your network adapter. (Likely 4, but check!)Set the DNS server to automatic (DHCP):  Set-DnsClientServerAddress -InterfaceIndex 4 -ResetServerAddresses   To apply changes, renew your DHCP lease:  ipconfig /release ipconfig /renew   Verify that the new DNS server is set by running:  Get-DnsClientServerAddress   You should see the srv1 IP address listed as the DNS server.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Set client1 (Windows 11) DNS to DHCP​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-2-setclient1windows-11-dns-to-dhcp","content":" Login as Administrator.Right-click the Network icon in the system tray, click Network and Internet settings.Click Ethernet.Scroll down to DNS server assignment and click the Edit button next to it.In the Edit DNS settings pop-up window, click the drop-down menu to change it from Manual to Automatic (DHCP).Leave all others on their defaults and click Save.Open Command Prompt and run:  ipconfig /release ipconfig /renew   Verify your IP settings, including DNS:  ipconfig /all   You should see your new IP address along with the same DNS address as before, but all supplied through DHCP.  ","version":"Next","tagName":"h3"},{"title":"Investigation 4: Testing DHCP Functionality​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#investigation-4-testing-dhcp-functionality","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Check Leases in DHCP Manager​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-1-check-leases-in-dhcp-manager","content":" On srv1, open DHCP Manager.Expand IPv4 &gt; OSM620 Lab Scope &gt; Address Leases.Confirm you see entries for srv2 and client1 with their assigned IPs.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Test DHCP & DNS Functionality​","type":1,"pageTitle":"Lab 5 - Implementing DHCP","url":"/OSM620/Labs/lab5#part-2-test-dhcp--dns-functionality","content":" On both srv2 and client1, run:  ipconfig   Confirm both the IPv4 address and DNS server match your DHCP scope and srv1’s IP address.Try resolving and pinging your servers:  nslookup srv1.cjohnson30.com nslookup eff.org ping srv1.cjohnson30.com   If everything works, you’re done! (If it doesn’t, double-check your steps or ask for help.) ","version":"Next","tagName":"h3"},{"title":"Lab 3 - Security and Remote Connectivity","type":0,"sectionRef":"#","url":"/OSM620/Labs/lab3","content":"","keywords":"","version":"Next"},{"title":"Lab Preparation​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#lab-preparation","content":" ","version":"Next","tagName":"h2"},{"title":"Purpose / Objectives of Lab 3​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#purpose--objectives-of-lab-3","content":" In this lab, you will conduct several Windows system administration tasks to secure your servers against would-be attackers and gain preliminary experience with the command line interface.  If you encounter technical issues, please contact your professor via e-mail or in your section's Microsoft Teams group.  ","version":"Next","tagName":"h3"},{"title":"Minimum Requirements​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#minimum-requirements","content":" Before beginning, you must have:  Successfully completed Lab 2.Attended the Week 3 lectureRead through the Week 3 slides, and have them handy as a reference for concepts.Your external SSD (or personal computer) with your VMs from Labs 1 and 2.Your VM login credentials.Optional, but recommended: Caffeine delivery system.  ","version":"Next","tagName":"h3"},{"title":"Key Concepts​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#key-concepts","content":" ","version":"Next","tagName":"h2"},{"title":"Security: From the Beginning​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#security-from-the-beginning","content":" In the not-too-distant past, companies would focus on getting their product and systems working and relegating security as their last step, often as an afterthought. When security is only considered at the end of a project, it's very difficult to remember all the ways in which your product interacts and things can get missed.  This created several high-profile breaches in the 90s and early 2000s, and our approach to security had to be reconsidered.  As a result, we now consider security from the beginning. As you create applications, add users to databases, create links between services, you must keep security in mind at every step of development. Securing as you go is the best method, but even something as simple as simply documenting unsecured parts of your code as you go can be enough (assuming you go back and fix them!)  Generally, we apply the concept of Principle of Least Privilege to security. Essentially, this boils down to locking everything down as much as possible and only allowing what and who you need through. Open access makes you a target. You'll be applying this principle to the firewall later in this lab.  We also take a look at defaults. Most systems and software come with pre-configured defaults to make out-of-the-box setup easy. This can take the form of a default username and password, default ports, etc. In a well secured system, these are often changed to avoid hack attempts. If you know the default, there's a high chance that hackers know it as well. You'll be changing some defaults in this lab.  This is not an exhaustive list of applied security, but it does give use a bit of working knowledge. You'll need it for this lab as well as in our later work.  ","version":"Next","tagName":"h3"},{"title":"Firewalls​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#firewalls","content":" In short, a firewall is a utility that sits on your computer between your network connection and the rest of your system.  Any application, service, or other data that is sent or received by your computer goes through your firewall first. The dominant network protocol is TCP/IP, which means we’re dealing with packets.  A firewall looks at these packets.  To be clear, the firewall doesn’t look inside packets, but just at the outside data like IP address and/or port destination, etc. The actual transmitted data is still secure and unread.  Generally with firewalls, we apply the Principle of Least Privilege by dropping all new connections by default, and allowing a few exceptions. This is known as whitelisting.  ","version":"Next","tagName":"h3"},{"title":"Editing Text Files​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#editing-text-files","content":" As you will sometimes be working in the Windows PowerShell command line environment, it is useful to learn a least one common method of editing text files.  Although programmers and developers usually use graphical IDE's to code and compile programs (Visual Studio, Sublime, Eclipse, etc), they can create source code using a text editor and compile their code directly on the server to generate executable programs (without having to transfer them for compilation or execution).  Developers very often use a text editor to modify configuration files. In this course, you will become familiar with the process of installing, configuring, and running network services. Text editors are an important tool to help this setup, but are also used to &quot;tweak&quot; or make periodic changes in service configurations.  The most readily-available command line text editor built into Windows is Notepad.  However, Notepad is not available in Server Core. To edit a text file in that environment, we have three main options:  Use PowerShell's object-oriented programming to send an edit directly into a text file. This is cumbersome and is not interactive (you don't see the text file on screen), but it is the only built-in option.Transferring the file to a different computer that does have a text editor (like your Windows 11 client), modifying the file there, and transferring it back to your Server Core machine.Using Visual Studio Code to connect remotely the the environment. This is by far the coolest and most convenient option.  We'll be doing all three in this lab to show you how, but going forward, VS Code will be our go-to for interacting with Server Core in most instances. (You will be tested on all three options, so don't skip them!)  ","version":"Next","tagName":"h3"},{"title":"Investigation 1: Windows Defender (Firewall)​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#investigation-1-windows-defender-firewall","content":" In this investigation, we're going to take a look at the Windows Defender firewall to see how firewall rules can be applied to secure our servers and let the few things we want to allow through.  It should be noted that the Windows Defender firewall should not be your only defense. Production environments will often have managed networks that restrict access on a larger scale, some of which you will get into with your networking courses.  These work together, though we will only be focusing (mostly) on the Windows firewall in this course.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Windows Server GUI (srv1) - Testing the IIS Role​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-1-windows-server-gui-srv1---testing-the-iis-role","content":" On this server, we will take a look at a role that was installed in our last lab as part of RRAS, IIS (a web server). This will be used only for testing connectivity between your other VMs and working with the firewalls.  This role is already running after Lab 2 and doesn't need any configuration. We'll be using it later to test network connections and firewall rules.  Let's test it locally (from within the same machine). We'll do so by pointing a web browswer at ourselves.  Inside srv1, open Firefox.Navigate to: http://127.0.0.1  If you see the Internet Information Services splash page, then this role is working. If you don't, ask your professor for help.  ℹ️ A note about servers, clients, Server Roles, and IIS: The IIS Server Role installs a web server inside of srv1. A web server is one that serves many clients (web browsers). This one-to-many concept is known as the client-server model in IT spaces. Other VMs and computers can also access this test web page (though it is blocked by default, see the Investigations below).  ","version":"Next","tagName":"h3"},{"title":"Part 2: Testing VM Network Connectivity​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-2-testing-vm-network-connectivity","content":" As part of your Lab 1 environment setup, you tested your connection to the Internet from each of your 3 virtual machines.  It's now time to test if we can use each VM to connect to each other.  On your Windows Server GUI (srv1) VM, open Command Prompt. Grab this VM's Internal Network IP address with the following command and write it down: ipconfig Remember, your Internal Network is the non-Internet network you created with the 10.0.UID.1 address. We're running ipconfig to confirm it's still there. On your Windows Client (client 1) VM, open Command Prompt. Enter the following command to test our ability to talk to srv1: ping &quot;srv1-ipaddress&quot; where srv1-ipaddress is the IP address from Step 2. Example: ping 10.0.40.1 It doesn't work, does it? That's normal at this stage and we'll fix it below. For now, we'll try connecting to our web server on srv1. That should show us the two VMs can talk to each other. Open Firefox on your Windows 11 Client (client1) and use the IP address from Step 2 (your srv1 IP address) as the URL. Example: http://10.0.40.1 Can you see the IIS splash page that you saw in Investigation 1, Part 1, Step 2? If so, you have connectivity! Continue to Part 3.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Windows Server GUI (srv1) - Applying Firewall Rules​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-3-windows-server-gui-srv1---applying-firewall-rules","content":" We will now apply our security-conscious policy by configuring the firewall on this server.  At the moment, the server's firewall is configured using defaults. As mentioned above, defaults are a security risk as they are known to everyone and can be used against you. If an attacker doesn't know your configuration, it's harder for them to know what's open and what's not and how to attack.  As you saw from Part 2, ping between client1 and srv1 didn't work.  By default, the ability to ping a server is turned off. A ping (a type of ICMP packet) is typically used to see if you can get a response from a server. Having a server respond let's an attacker know there's a machine there that they can then try to break into.  Imagine a burglar knocks on a random brick wall (sends a ping). If you (the server) knock back (send a ping reply), the burglar now knows there's a person there who probably has some nice stuff! Don't knock back, and the burglar has no idea what's on the other side of that wall and will move on.  We want to turn on ping so we can test connections between our machines, but we have to be careful. Turning that on through the firewall too broadly opens us up to that vulnerability.  We are going to turn it on only for our local network. Our VMs will be allowed to ping each other, but anything outside of our subnet (10.0.UID.0/24) can't. Best of both worlds.  To do this, we're going to work with the Windows Defender Firewall on srv1.  In the Server Manager application, go to Local Server.In the Properties section of this page, look for the Microsoft Defender Firewall line item.Next to the line, it should say Public: On. Click on this.The Windows Security &gt; Firewall &amp; Network protection application opens.On this screen, you will see three networks: Domain network, Private network, and Public network.We'll spend more time with these in later weeks, but for now, all three should say: Firewall is on.Below this, click on the link that says: Advanced settingsThis opens the Windows Defender Firewall with Advanced Security application.On the first page, you'll notice the same three profiles: Domain Profile, Private Profile, and Public Profile.All three have the same overall rules:Windows Defender Firewall is on: This just confirms the firewall is active for this network profile.Inbound connections that do not match a rule are blocked: This means that all incoming connections and requests (like trying to ping this machine) are blocked by default. If you want to allow a certain type of connection or service into your server, you have to make a specific rule for it. This is whitelisting and our Principle of Least Priviledge in action.Outbound connections that do not match a rule are allowed: This means all network data leaving the server is automatically allowed. The logic here is that if the server is the one deciding the send out information, it's likely fine. (Note: The only time we ever whitelist outbound connections is for specialized security settings like government compliance.)At the moment, we're dealing with the Public Profile context. Let's allow ICMP ping!On the left-hand menu bar, click Inbound Rules.This loads a ton of already-defined rules. Thankfully, the one we need has already been defined. We just need to turn it on.At the top of this area, click Name to order the list by name (this is not the default).Now, scroll down until you can find the following and double-click it: Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In), Private, Public.Note: There are two of these rules! Look for the one that has Private, Public under the Profile header. The wrong one says Domain.This opens this rule's configuration window, starting on the General tab.In the General tab, look for the following and check the box next to it: EnabledClick Apply, then OK.Back in the main Inbound Rules window, you should see that same rule line now says Yes under the Enabled header.You've enabled ICMP ping! Let's go test it.Switch back to your client1 machine, and run the same ping you ran earlier pointing to srv1. (Refer to Part 2, Step 4.)Does it work?It if does, congratulations! You've just enabled ping for connectivity checking to srv1 and gone through your first foray into the Windows Firewall.  ℹ️ A note for later labs:By default, this rule is set to only allow incoming pings (ICMP requests) from computers on your VM network—that is, other virtual machines on the same VMware NAT or host-only network as your server—not from the wider Internet or any physical computers in the classroom. You can see this by checking the Scope tab in the rule’s properties, where “Remote IP address” is set to “Local subnet.” We’ll spend more time on how Scope and Private/Public profiles affect your firewall rules in our Secondary Network assignment.  📝 Lab Question:Why did we not have to do this for our IIS web server setup? In the Inbound Rules list, scroll through to see if you can find the rule that’s allowing web server pages to be requested from srv1. Write down the name of the rule in your Lab Logbook when you find it (it’s not called IIS) and explain why you think you didn’t have to enable this rule yourself. Think back to when you installed the IIS Server Role.  ","version":"Next","tagName":"h3"},{"title":"Part 4: Windows Server Core (srv2) - Applying Firewall Rules​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-4-windows-server-core-srv2---applying-firewall-rules","content":" Let's apply the same incoming ping firewall rule to our Server Core machine so we can check it's network connectivity as well.  Login to your Server Core (srv2) machine.The sfconfig text-based application automatically launches.Select option 8 to find this machine's Internal Network IP address. Write it down.Back in your Windows 11 Client (client1), try to ping this address. Does it work?Just as in srv1, it doesn't.Go back to srv2.If you're still in the Network settings page, leave the field blank and hit Enter to go back to the main screen.Select option 15 to exit to PowerShell.As there's no GUI, we need to use PowerShell for firewall management.Let's take a look at the existing rules, just like in Part 2. Run the following PowerShell command:  Get-NetFirewallRule | Where-Object DisplayName -Like '*ICMPv4-In*'   Several results appear in the search. Look for the one with the name: Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In)This firewall rule object, starting from Name all the way down to PackageFamilyName lists all the configured properties for this rule.Read through these properties. Recognize any from our GUI version?This rule matches both our incoming ping requests and keeps to Private, Public profiles. As with our GUI version, the scope is defaulted to local subnet only.Let's turn on this incoming firewall rule by running the following command:  Enable-NetFirewallRule -Name CoreNet-Diag-ICMP4-EchoRequest-In   This selects the right rule and enables it.One of the things you must get into the habit of doing with CLI commands is double-checking your work.Let's do that now by asking the system if it was actually enabled:  Get-NetFirewallRule -Name CoreNet-Diag-ICMP4-EchoRequest-In   Look for the Enabled: field. See how it's changed to True? It worked!Optional: We can even check the scope for local subnet only as we did in the GUI version if we want with the following command:  Get-NetFirewallRule -Name CoreNet-Diag-ICMP4-EchoRequest-In | Get-NetFirewallAddressFilter   Output:  LocalAddress : Any RemoteAddress : LocalSubnet4   Last, because there are two incoming ICMP rules (Domain profile and Private, Public profile), let's check that only the Private, Public rule is enabled:  Command:  Get-NetFirewallRule -DisplayName &quot;Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In)&quot; | Select-Object DisplayName, Profile, Enabled   This shows a brief status of both rules. The Domain version should show False under the Enabled header, while the Private, Public version should show True.  Output:  DisplayName Profile Enabled ----------- ------- ------- Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In) Domain False Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In) Private, Public True   Now, let's test our ping. Switch over to your Windows 11 Client (client1).Open a Command Prompt window, and run the following command: ping srv2-ipaddress (Refer to Part 3, Step 3).Does it work?It if does, congratulations! You've just enabled ping for connectivity checking to srv2 and gone through your first foray into the PowerShell!  ","version":"Next","tagName":"h3"},{"title":"Part 5: Windows Client (client1) - Applying Firewall Rules​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-5-windows-client-client1---applying-firewall-rules","content":" Finally, let's enable ping on our Windows Client machine.  Login to client1.Click the Start button and type the following search: firewallOf the options that appear, select: Windows Defender Firewall with Advanced SecurityJust as in Part 2 with srv1, navigate to Inbound Rules.Click the Name header to sort by name.Find the following rule:Name: Core Networking Diagnostics - ICMP Echo Request (ICMPv4-In)Profile: Private, PublicDouble-click it to open the rule's configuration settings.In the General tab, find and check the box next to Enabled.Click Apply, then OK.Open a Command Prompt window and run the following to get your client's IP address: ipconfigSwitch to your Server Core (srv2) machine.In PowerShell, run the following command: ping client1-ipaddress (Where client1-ipaddress is the address from Step 10.)Example: ping 10.0.40.11Does it work?It if does, congratulations! You've just enabled ping for connectivity checking to client1 and have full connectivity checking for your entire environment! This will become very handy in Labs 3-4.  ","version":"Next","tagName":"h3"},{"title":"Investigation 2: Remote Management - Windows Server GUI (srv1)​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#investigation-2-remote-management---windows-server-gui-srv1","content":" While you have direct access to all three VMs from VMware, these days most machines are remote. This means you typically do not have direct, physical access to the servers.  Even if you do, having remote access to allow you to manage your servers from the comfort of your office (or home!) instead of walking to each physical machine is far better.  In this investigation, we'll set up remote access to our Windows Server GUI (srv1) so we can connect to it using your Windows 11 Client VM.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Enabling Remote Desktop Connections​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-1-enabling-remote-desktop-connections","content":" In this part, we'll turn on Remote Desktop (RDP) on the server. This will allow you to remotely connect to srv1 from your Windows 11 Client.  In the Server Manager application, navigate to Local Server.In the main Properties window, find the line entry for: Remote DesktopClick the link next to it: DisabledIn the new System Properties window, you should automatically be on the Remote tab.Look down to the section on Remote Desktop.Toggle the option for: Allow remote connections to this computerEnsure the checkbox next to this is on: Allow connections only from computers running Remote Desktop with Network Level Authentication (recommended)Click Apply, then OK.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Adding your RDP Firewall Rules​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-2-adding-your-rdp-firewall-rules","content":" In this part, we'll add a firewall rule to allow the connection over the local network.  On srv1, open Windows Defender Firewall with Advanced Security.In the Inbound Rules section, look for the following rules:Remote Desktop - Shadow (TCP-In)Remote Desktop - User Mode (TCP-In)Remote Desktop - User Mode (UDP-In)If they're all enabled (they should be), you're good to go!Why check? Always check your firewall rules when enabling a new service, even if it usually enables the associated firewall rule automatically. Never assume!If these rules are not enabled, enable them now.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Connecting to Windows Server (srv1) from Windows 11​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-3-connecting-to-windows-server-srv1-from-windows-11","content":" In this part, we'll verify our work by connecting to the server using our Windows 11 client VM.  Make sure you've got your srv1 IP address from earlier. (You wrote it down, right?)On client1, click the Start menu.Search for and open: Remote Desktop ConnectionIn the newly opened application, in the Computer field, enter the IP address for srv1.Click Connect.Enter your srv1 username and password, then click OK.A security dialogue box pops up. Check the box next to &quot;Don't ask me again for connections to this computer&quot; before the next step.Click Yes.If you can see your srv1 desktop, congratulations! You now have remote access.To quit the remote session, find the floating HUD at the top of the screen with the IP address and click on the X icon.Note: This will not shutdown your srv1 VM. It only ends your remote session.Note 2: A remote session will automatically lock your VM's direct session. You will need to unlock it again when you go back to it through VMware Workstation directly.  ","version":"Next","tagName":"h3"},{"title":"Investigation 3: Remote Management - Windows Server Core (srv2) with Remote Desktop​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#investigation-3-remote-management---windows-server-core-srv2-with-remote-desktop","content":" In this investigation, we'll set up remote access to our Windows Server Core (srv2) so we can connect to it using your Windows 11 Client VM.  ","version":"Next","tagName":"h2"},{"title":"Part 1: Setting Up srv2's NIC2 - Internal Network​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-1-setting-up-srv2s-nic2---internal-network","content":" In this part, we'll rename the second NIC and then give it a 10.x.x.x address so we can use it to communicate with our other servers and clients.  Login to srv2.In the sfconfig application, select Option 8 (Network Settings).You will have two network adapters. We're going to change their names for easier identification.Find the adapter that has the external network IP address. It's usually the first one in the list. If you're not sure, ask.Select that entry's number from the first column to go into it's options.In Network Adapter Settings, select Option 4 (Rename network adapter).Type the following and hit Enter: External NetworkRepeat steps 3-7 for the second network adapter, and call it: Internal NetworkGo back to the main sfconfig screen.Select Option 15 to exit to the command line.  We're now going to apply network settings to our Internal Network adapter using PowerShell.  First, confirm the names of your adapters with the following command:  Get-NetAdapter   Now, assuming they look correct, run the following:  New-NetIPAddress -InterfaceAlias &quot;Internal Network&quot; -IPAddress 10.0.UID.2 -PrefixLength 24   Double-check your work by running:  Get-NetIPAddress -InterfaceAlias &quot;Internal Network&quot;   If it has the proper 10.x.x.x IP address, well done! Move on to Part 2.  Tip: To return to sfconfig, either run that command or type exit.  ","version":"Next","tagName":"h3"},{"title":"Part 2: Enabling Remote Desktop Connections​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-2-enabling-remote-desktop-connections","content":" In this part, we'll turn on Remote Desktop (RDP) on the Core server (srv2).  Login to srv2.If you're at the PowerShell command prompt, run the following command to get back into the text-based Server Manager application: sconfigSelect option 7.In the Remote desktop page, select option E to enable Remote Desktop.It will ask you to select a security level. Select Option 1.Press Enter to complete and go back to the main Server Manager page.Double-check your work. Select option 7 again.Is the Remote desktop status changed and correct?If not, go through Steps 4-9 again.If yes, press Enter without entering any options to go back to the main screen without making any changes.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Adding a RDP Firewall Rules​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-3-adding-a-rdp-firewall-rules","content":" In this part, we'll check that the RDP firewall rules have been enabled.  Select Option 15 to exit to PowerShell.Run the following PowerShell command to check the status of your RDP firewall rules:  Command:  Get-NetFirewallRule | Where-Object { $_.DisplayName -like '*Remote Desktop*' -and $_.Direction -eq 'Inbound' } | Select-Object Name, DisplayName, Profile, Enabled   Output:  Name DisplayName Profile Enabled ---- ----------- ------- ------- RemoteDesktop-In-TCP-WS Remote Desktop - (TCP-WS-In) Any False RemoteDesktop-In-TCP-WSS Remote Desktop - (TCP-WSS-In) Any False RemoteDesktop-Shadow-In-TCP Remote Desktop - Shadow (TCP-In) Any True RemoteDesktop-UserMode-In-TCP Remote Desktop - User Mode (TCP-In) Any True RemoteDesktop-UserMode-In-UDP Remote Desktop - User Mode (UDP-In) Any True   Check that your output matches the above. This is the same as on srv1, just at the command line. Notice with are enabled and which are not?If you need to, grab the IP address for srv2 here by running this command in PowerShell: ipconfig  ","version":"Next","tagName":"h3"},{"title":"Part 4: Connecting to Windows Server (srv2) from Windows 11 via RDP​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-4-connecting-to-windows-server-srv2-from-windows-11-via-rdp","content":" In this part, we'll verify our work by connecting to srv2 using our Windows 11 client VM. This is essentially the same as our instructions for srv1, but with a different IP address.  Make sure you've got your srv2 IP address from earlier. (You wrote it down, right?)On client1, click the Start menu.Search for and open: Remote Desktop ConnectionIn the newly opened application, in the Computer field, enter the IP address for srv1.Click Connect.Enter your srv2 username and password, then click OK.A security dialogue box pops up. Check the box next to &quot;Don't ask me again for connections to this computer&quot; before the next step.Click Yes.If you can see your srv2 Command Prompt window, congratulations! You now have remote access.To quit the remote session, find the floating HUD at the top of the screen with the IP address and click on the X icon.Note: This will not shutdown your srv2 VM. It only ends your remote session.Note 2: A remote session will automatically lock your VM's direct session. You will need to unlock it again when you go back to it through VMware Workstation directly.  ","version":"Next","tagName":"h3"},{"title":"Investigation 4: Remote Management - Windows Server Core (srv2) with SSH​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#investigation-4-remote-management---windows-server-core-srv2-with-ssh","content":" ","version":"Next","tagName":"h2"},{"title":"Part 1: Enabling SSH Connections​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-1-enabling-ssh-connections","content":" In this part, we'll turn on incoming SSH connections so we can connect to our server using Visual Studio Code from the Windows 11 client.  Login to your Server Core (srv2).Exit the Server Manager program by selecting Option 15.In PowerShell, run the following command to install the OpenSSH Server  Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0   After it installs, we have to start the SSH service. Run the following:  Start-Service sshd   We now have to set the SSH service to start automatically every time the system boots. Run the following:  Set-Service -Name sshd -StartupType 'Automatic'   # Install OpenSSH Server Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0 # Start and enable the service Start-Service sshd Set-Service -Name sshd -StartupType 'Automatic' # Confirm firewall rule is present or add it Get-NetFirewallRule -Name *ssh* # If not present, add: New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22   ","version":"Next","tagName":"h3"},{"title":"Part 2: Adding an SSH Firewall Rule​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-2-adding-an-ssh-firewall-rule","content":" We'll now add an SSH rule. One already exists, but it's only attached to the Private profile and would not work for us.Instead, we'll create a custom rule. Run the following command:  New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22 -Profile Private,Public   This rule sets the following:Name: sshdDisplay Name: OpenSSH Server (sshd)Enabled: TrueProfile: Private, PublicDirection: InboundAction: AllowProtocol: TCPPort: 22Verify your work! First, let's look at the firewall object by running the following command:Now, let's verify the protocol and port with the following command:  Command:  Get-NetFirewallRule -Name 'sshd'   Output:  Name : sshd DisplayName : OpenSSH Server (sshd) Description : DisplayGroup : Group : Enabled : True Profile : Private, Public Platform : {} Direction : Inbound Action : Allow EdgeTraversalPolicy : Block LooseSourceMapping : False LocalOnlyMapping : False Owner : PrimaryStatus : OK Status : The rule was parsed successfully from the store. (65536) EnforcementStatus : NotApplicable PolicyStoreSource : PersistentStore PolicyStoreSourceType : Local RemoteDynamicKeywordAddresses : {} PolicyAppId : PackageFamilyName :   Command:  Get-NetFirewallRule -Name 'sshd' | Get-NetFirewallPortFilter | Select-Object Name, Protocol, LocalPort   Output:  Name Protocol LocalPort ---- -------- --------- TCP 22   If your own output looks like the above, congratulations! If not, try your configuration commands again or ask for help.  ","version":"Next","tagName":"h3"},{"title":"Part 3: Connecting to Windows Server Core (srv 2) from Windows 11 via SSH​","type":1,"pageTitle":"Lab 3 - Security and Remote Connectivity","url":"/OSM620/Labs/lab3#part-3-connecting-to-windows-server-core-srv-2-from-windows-11-via-ssh","content":" On your Windows 11 Client (client1), open Command Prompt. Enter the following command: ssh Administrator@srv2ipaddress (Where srv2ipaddress is your actual srv2 IP address.) Example: ssh Administrator@10.0.40.2 The first time you connect, a prompt will ask you if you are sure. Type yes and hit Enter. Type your password when asked and hit Enter. ℹ️ Note: By default, You will not see asterisks or other characters as you type. This is normal. It is taking your keyboard input. It may take you a few tries to get used to it. Once logged in, you are now on srv2's Command Prompt environment. To get back into PowerShell (which you should), run: powershell It is not recommended to run the sconfig program over an SSH connection. If you need to use the sconfig / Server Manager text-based program, connect through your RDP connection in Part 1.  ℹ️ A note about SSH and Server Manager: Your SSH connection will allow you to run the sconfig Server Manager program and load it. However, many of it's functions fail over an SSH connection because it relies on background interactive processes that can't run on an SSH session. They must be run from the RDP connection, despite it looking the same. For an example of this, run sconfig from your SSH session and try to run Windows Updates. If it finds any and you try to install them, it will fail. This is an SSH+sconfig problem; run the same thing through RDP and it will work fine. ","version":"Next","tagName":"h3"},{"title":"Weekly Schedule","type":0,"sectionRef":"#","url":"/OSM620/weekly-schedule","content":"","keywords":"","version":"Next"},{"title":"Week 1: September 1-7​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-1-september-1-7","content":" Agenda/Topic\tReading\tAssessment DueIntroduction to OSM620\tLab 1 - Environment Setup Introduction to Microsoft Server 2025 and Virtual Machines\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 2: September 8-14​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-2-september-8-14","content":" Agenda/Topic\tReading\tAssessment DueMicrosoft Technologies, Windows Server, and Editions\tLab 2 - Hyper-V, NAT, and Windows Clients\tLab 1 – Environment Setup (2.5%) Demo: Server Installation\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 3: September 15-21​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-3-september-15-21","content":" Agenda/Topic\tReading\tAssessment DueBasic Networking and Security Principles\tLab 3 – Security and Remote Connectivity\tLab 2 - Hyper-V, NAT, and Windows Clients (2.5%) Demo: VM Interconnectivity and Troubleshooting\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 4: September 22-28​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-4-september-22-28","content":" Agenda/Topic\tReading\tAssessment DueDNS: Concepts and Implementation\tLab 4 - Implementing DNS\tLab 3 – Security and Remote Connectivity (5%) Demo: Hosting DNS\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 5: September 29 - October 5​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-5-september-29---october-5","content":" Agenda/Topic\tReading\tAssessment DueDHCP: Concepts and Implementation\tLab 5 - Implementing DHCP\tLab 4 - Implementing DNS (5%) Demo: Hosting DHCP\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 6: October 6-12​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-6-october-6-12","content":" Agenda/Topic\tReading\tAssessment DueRelease and Discuss: Assignment 1\tAssignment 1\tLab 5 - Implementing DHCP (5%) Dedicated lab time and lab help (Work Week)\tPosted slides and lecture material\tQuiz 4  ","version":"Next","tagName":"h2"},{"title":"Week 7: October 13-19​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-7-october-13-19","content":" Agenda/Topic\tReading\tAssessment DueReview and Lab Help\tAll previous material\tMidterm Test (15%) Midterm Test Assignment 1 (15%)  ","version":"Next","tagName":"h2"},{"title":"Study Week: October 20-26​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#study-week-october-20-26","content":" No classes this week. Campus is open.    ","version":"Next","tagName":"h2"},{"title":"Week 8: October 27 - November 2​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-8-october-27---november-2","content":" Agenda/Topic\tReading\tAssessment DueIntroduction to Active Directory\tLab 6 - Active Directory Demo: AD Creation\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 9: November 3-9​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-9-november-3-9","content":" Agenda/Topic\tReading\tAssessment DueDomain Controllers and RODCs\tLab 6 - Active Directory Assignment 2 Discussion: Group Project Creation\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 10: November 10-16​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-10-november-10-16","content":" Agenda/Topic\tReading\tAssessment DueActive Directory Users, Groups, and Group Policies\tLab 7 – Users, Groups, and Group Policies\tLab 6 - Active Directory (5%) Demo: Applying Group Policies and Downstream Effects\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 11: November 17-23​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-11-november-17-23","content":" Agenda/Topic\tReading\tAssessment DueServer Storage and File Shares\tLab 8 – Configuring Storage\tLab 7 – Users, Groups, and Group Policies (5%) Demo: Assigning and Mapping Storage\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 12: November 24-30​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-12-november-24-30","content":" Agenda/Topic\tReading\tAssessment DueIntroduction to Microsoft Azure and Cloud Computing\tLab 9 – Introduction to Azure\tLab 8 – Configuring Storage (5%) Demo: Introduction to Azure UI and Access\tPosted slides and lecture material\t  ","version":"Next","tagName":"h2"},{"title":"Week 13: December 1-7​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-13-december-1-7","content":" Agenda/Topic\tReading\tAssessment DueGroup Project Presentations\tPosted slides and lecture material\tGroup Presentations Lab 9 – Introduction to Azure (5%) Assignment 2: Group Project (15%)  ","version":"Next","tagName":"h2"},{"title":"Week 14: December 8-12​","type":1,"pageTitle":"Weekly Schedule","url":"/OSM620/weekly-schedule#week-14-december-8-12","content":" Agenda/Topic\tReading\tAssessment DueCourse Review\tAll previous material\tFinal Test (15%) ","version":"Next","tagName":"h2"}],"options":{"id":"default"}}