<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Labs/lab4" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Lab 4 - Implementing DNS | OSM620 - Fundamentals of Microsoft Systems</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://seneca-ictoer.github.io/OSM620/Labs/lab4"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 4 - Implementing DNS | OSM620 - Fundamentals of Microsoft Systems"><meta data-rh="true" name="description" content="Lab 4 - Implementing DNS"><meta data-rh="true" property="og:description" content="Lab 4 - Implementing DNS"><link data-rh="true" rel="icon" href="/OSM620/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://seneca-ictoer.github.io/OSM620/Labs/lab4"><link data-rh="true" rel="alternate" href="https://seneca-ictoer.github.io/OSM620/Labs/lab4" hreflang="en"><link data-rh="true" rel="alternate" href="https://seneca-ictoer.github.io/OSM620/Labs/lab4" hreflang="x-default"><link rel="icon" href="/OSM620/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OSM620/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OSM620/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OSM620/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OSM620/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/OSM620/assets/css/styles.fd42f37a.css">
<script src="/OSM620/assets/js/runtime~main.091178b7.js" defer="defer"></script>
<script src="/OSM620/assets/js/main.8c7e96ae.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/OSM620/img/logo.svg"><link rel="preload" as="image" href="/OSM620/img/logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OSM620/"><div class="navbar__logo"><img src="/OSM620/img/logo.svg" alt="Seneca Polytechnic" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/OSM620/img/logo-dark.svg" alt="Seneca Polytechnic" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OSM620 - Fundamentals of Microsoft Systems</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSM620/">Welcome to OSM620</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSM620/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/OSM620/Labs/lab1">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSM620/Labs/lab1">Lab 1 - Environment Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSM620/Labs/lab2">Lab 2 - Hyper-V, NAT, and Windows Clients</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSM620/Labs/lab3">Lab 3 - Security and Remote Connectivity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OSM620/Labs/lab4">Lab 4 - Implementing DNS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSM620/Labs/lab5">Lab 5 - Implementing DHCP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/OSM620/Assignments/assignment2">Assignments</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OSM620/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 4 - Implementing DNS</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 4 - Implementing DNS</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-preparation">Lab Preparation<a href="#lab-preparation" class="hash-link" aria-label="Direct link to Lab Preparation" title="Direct link to Lab Preparation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="purpose--objectives-of-lab-4">Purpose / Objectives of Lab 4<a href="#purpose--objectives-of-lab-4" class="hash-link" aria-label="Direct link to Purpose / Objectives of Lab 4" title="Direct link to Purpose / Objectives of Lab 4">​</a></h3>
<p>In this lab, you will deploy and validate a local DNS service on your Windows Server GUI VM (srv1), then configure all machines in your lab environment to use it. By the end, you will be able to:</p>
<ol>
<li>Install the <strong>DNS Server</strong> role on <em>srv1</em>.</li>
<li>Create a <strong>Forward Lookup Zone</strong> for <em>yourSenecaUsername.com</em>.</li>
<li>Add <em>A records</em> for <em>srv1, srv2, client1</em> and <em>client2</em>.</li>
<li>Configure forwarders so <em>srv1</em> can resolve Internet names.</li>
<li>Point <em>srv1</em> to itself via loopback (127.0.0.1) for DNS.</li>
<li>Reconfigure <em>srv2</em>, <em>client1</em>, and <em>client2</em> to use <em>srv1</em> as their DNS.</li>
<li>Create a <strong>Reverse Lookup Zone</strong> and <strong>PTR records</strong>. Verify forward and reverse resolution with <code>nslookup</code>, <code>ping</code>, and browser tests.</li>
</ol>
<p>If you encounter technical issues, please contact your professor via e-mail or in your section&#x27;s Microsoft Teams group.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-requirements">Minimum Requirements<a href="#minimum-requirements" class="hash-link" aria-label="Direct link to Minimum Requirements" title="Direct link to Minimum Requirements">​</a></h3>
<p>Before beginning, you must have:</p>
<ol>
<li>Successfully completed Lab 3.</li>
<li>Attended the Week 5 lecture</li>
<li>Read through the Week 5 slides and have them handy as a reference for concepts.</li>
<li>Your external SSD (or approved personal computer) with your VMs from Labs 1-3.</li>
<li>Your VM login credentials.</li>
<li>Optional, but recommended: Caffeine delivery system.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts">Key Concepts<a href="#key-concepts" class="hash-link" aria-label="Direct link to Key Concepts" title="Direct link to Key Concepts">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-dns-does---domain-name-system">What DNS Does - Domain Name System<a href="#what-dns-does---domain-name-system" class="hash-link" aria-label="Direct link to What DNS Does - Domain Name System" title="Direct link to What DNS Does - Domain Name System">​</a></h4>
<p>DNS maps names to IP addresses. Humans remember reddit.com. The Internet only understands how to route to 151.101.193.140. It’s hierarchical and distributed, so no single server knows everything. <strong>Authoritative servers</strong> answer for their zones and resolvers figure the rest out.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="forward-vs-reverse-lookups">Forward vs. Reverse Lookups<a href="#forward-vs-reverse-lookups" class="hash-link" aria-label="Direct link to Forward vs. Reverse Lookups" title="Direct link to Forward vs. Reverse Lookups">​</a></h4>
<ol>
<li><strong>Forward:</strong> URL to IP (e.g., srv1.yourSenecaUsername.com converts to 10.0.UID.1) using A/AAAA records.</li>
<li><strong>Reverse:</strong> IP to URL (e.g., 10.0.UID.1 to srv1.yourSenecaUsername.com) using PTR records in a Reverse Lookup Zone.</li>
</ol>
<p>Reverse lookup is gold for troubleshooting and clean logs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="zones-and-authority">Zones and Authority<a href="#zones-and-authority" class="hash-link" aria-label="Direct link to Zones and Authority" title="Direct link to Zones and Authority">​</a></h4>
<p>A zone is the authoritative dataset for a chunk of namespace. In this lab you create:</p>
<ol>
<li><strong>Forward zone:</strong> yourSenecaUsername.com</li>
<li><strong>Reverse zone:</strong> 10.0.UID.0/24 (IPv4 reverse)</li>
</ol>
<p>Each zone has an SOA (start of authority) and NS records defining who’s in charge. We keep dynamic updates disabled here for control and repeatability.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authoritative-vs-recursive-srv1-does-both">Authoritative vs. Recursive (srv1 does both)<a href="#authoritative-vs-recursive-srv1-does-both" class="hash-link" aria-label="Direct link to Authoritative vs. Recursive (srv1 does both)" title="Direct link to Authoritative vs. Recursive (srv1 does both)">​</a></h4>
<ol>
<li><strong>Authoritative:</strong> Answers with authority for names inside its zones.</li>
<li><strong>Recursive:</strong> Chases down answers it doesn’t know yet.</li>
</ol>
<p>In our setup, <em>srv1</em> is <strong>authoritative for your lab domain</strong> and recursive for everything else (via forwarders).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="forwarders-vs-root-hints-and-conditional-forwarders">Forwarders vs. Root Hints (and Conditional Forwarders)<a href="#forwarders-vs-root-hints-and-conditional-forwarders" class="hash-link" aria-label="Direct link to Forwarders vs. Root Hints (and Conditional Forwarders)" title="Direct link to Forwarders vs. Root Hints (and Conditional Forwarders)">​</a></h4>
<ol>
<li><strong>Forwarders:</strong> send unknown queries to specific upstream resolvers (what we configure for the classroom).</li>
<li><strong>Root hints:</strong> the built-in map to the DNS root—slower to “warm up.”</li>
<li><strong>Conditional forwarders:</strong> send only certain domains to specific DNS servers (handy in enterprises; not needed here).</li>
</ol>
<p>We will only be using forwarders in this lab for ease of set up.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="records-youll-actually-touch">Records You’ll Actually Touch<a href="#records-youll-actually-touch" class="hash-link" aria-label="Direct link to Records You’ll Actually Touch" title="Direct link to Records You’ll Actually Touch">​</a></h4>
<ol>
<li>A: Hostname to IPv4.</li>
<li>PTR: IPv4 address to hostname (reverse).</li>
<li>CNAME (alias): points a name to another name.</li>
<li>Rule of thumb: a CNAME can’t live alongside other records at the same name (no A+MX+CNAME pileups).</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fqdns-and-the-dns-suffix">FQDNs and the DNS Suffix<a href="#fqdns-and-the-dns-suffix" class="hash-link" aria-label="Direct link to FQDNs and the DNS Suffix" title="Direct link to FQDNs and the DNS Suffix">​</a></h4>
<ol>
<li>Fully-Qualified Domain Name (FQDN): Full path (e.g., srv1.yourname.com.).</li>
<li><strong>Short names</strong> (e.g., ping srv1) rely on a DNS suffix search list. To keep tests deterministic, we use FQDNs in this lab.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="caching-and-ttl">Caching and TTL<a href="#caching-and-ttl" class="hash-link" aria-label="Direct link to Caching and TTL" title="Direct link to Caching and TTL">​</a></h4>
<p>DNS answers are cached to reduce load. The TTL controls how long.</p>
<p>Tips:</p>
<ol>
<li>After changing records, clear caches where relevant:</li>
<li><strong>Client:</strong> <code>ipconfig /flushdns</code></li>
<li><strong>Server:</strong> DNS Manager &gt; right-click server &gt; Clear Cache</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ports-and-firewall">Ports and Firewall<a href="#ports-and-firewall" class="hash-link" aria-label="Direct link to Ports and Firewall" title="Direct link to Ports and Firewall">​</a></h4>
<p>DNS uses <strong>UDP/53</strong> for most queries, <strong>TCP/53</strong> for large responses and zone transfers. With the DNS Server Role installed, inbound DNS rules should be enabled (Private/Public).</p>
<p>Verify. Never assume.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loopback-and-why-we-use-it-on-srv1">Loopback and Why We Use It on <em>srv1</em><a href="#loopback-and-why-we-use-it-on-srv1" class="hash-link" aria-label="Direct link to loopback-and-why-we-use-it-on-srv1" title="Direct link to loopback-and-why-we-use-it-on-srv1">​</a></h4>
<p>The loopback interface (127.0.0.1) sends traffic to the local host. It is immune to network interface card (NIC) misconfigurations. Pointing <em>srv1</em> at <strong>127.0.0.1</strong> ensures it always asks itself first, which simplifies troubleshooting.</p>
<blockquote>
<p>Loop: srv1 &gt; 127.0.0.1 &gt; srv1</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="split-horizon-aka-split-brain-dns-just-awareness">Split-Horizon (a.k.a. Split-Brain) DNS (just awareness)<a href="#split-horizon-aka-split-brain-dns-just-awareness" class="hash-link" aria-label="Direct link to Split-Horizon (a.k.a. Split-Brain) DNS (just awareness)" title="Direct link to Split-Horizon (a.k.a. Split-Brain) DNS (just awareness)">​</a></h4>
<p>Enterprises often serve different answers internally VS externally for the same name. In this lab your domain is internal-only. Don’t register it publicly.</p>
<p>Troubleshooting Toolkit</p>
<ol>
<li><strong>nslookup</strong> (classic): Quick forward/reverse tests.</li>
<li><strong>Resolve-DnsName</strong> (PowerShell): Richer diagnostics (optional).</li>
<li><strong>Get-DnsClientServerAddress</strong>: Confirm which DNS your client is using.</li>
<li>If names resolve but pings fail, think firewall (Lab 3), not DNS.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-configuring-dns-on-windows-server-srv1">Investigation 1: Configuring DNS on Windows Server (<em>srv1</em>)<a href="#investigation-1-configuring-dns-on-windows-server-srv1" class="hash-link" aria-label="Direct link to investigation-1-configuring-dns-on-windows-server-srv1" title="Direct link to investigation-1-configuring-dns-on-windows-server-srv1">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-confirm-a-static-ip-address-on-srv1">Part 1: Confirm a Static IP Address on <em>srv1</em><a href="#part-1-confirm-a-static-ip-address-on-srv1" class="hash-link" aria-label="Direct link to part-1-confirm-a-static-ip-address-on-srv1" title="Direct link to part-1-confirm-a-static-ip-address-on-srv1">​</a></h3>
<p>As <em>srv1</em> will be our primary network services provider, we have to give it a <strong>static IP address</strong>. This is so it doesn&#x27;t periodically change. If it did change, any other machines relying on this one would suddenly be unable to connect and lose access to all services provided, including the very DNS we&#x27;re about to set up!</p>
<p>We already did this during <em>Lab 2, Investigation 1, Part 3</em>. Doing so is called <strong>manual static network configuration</strong>.</p>
<p>Let&#x27;s confirm our work:</p>
<ol>
<li>Open <strong>Command Prompt</strong>.</li>
<li>Run the following command: <code>ipconfig</code></li>
<li>Confirm the <em>Internal Network</em> adapter uses: <strong>10.0.<code>UID</code>.1</strong></li>
<li>Find the <em>External Network</em> adapter&#x27;s current DNS address. <strong>Write this down</strong>. You will need it later in this lab.</li>
</ol>
<p>Static IP addressing is always required for a computer or device providing network services. Remember that.</p>
<p>If the proper static IP is confirmed, move on to <em>Part 2</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-installing-the-dns-server-role-on-srv1">Part 2: Installing the DNS Server Role on <em>srv1</em><a href="#part-2-installing-the-dns-server-role-on-srv1" class="hash-link" aria-label="Direct link to part-2-installing-the-dns-server-role-on-srv1" title="Direct link to part-2-installing-the-dns-server-role-on-srv1">​</a></h3>
<ol>
<li><strong>Login to srv1</strong> with your Administrator account.</li>
<li>Open the <strong>Server Manager</strong> application (icon is on the taskbar or Start menu).</li>
<li>In the left menu, click on <strong>Local Server</strong> if you’re not already there.</li>
<li>At the top right, click <strong>Manage &gt; Add Roles and Features</strong>.</li>
<li>In the <strong>Add Roles and Features Wizard</strong> window:<!-- -->
<ol>
<li>On <em>Installation Type</em>, select <strong>Role-based or feature-based installation</strong>, then <strong>Next</strong>.</li>
<li>On <em>Server Selection</em>, confirm <strong>Select a server from the server pool</strong> and choose <strong>srv1</strong>, then <strong>Next</strong>.</li>
<li>On <em>Server Roles</em>, scroll down and check the box for <strong>DNS Server</strong>.</li>
<li>A pop-up will ask to add required features, click <strong>Add Features</strong>.</li>
<li>Back on the <em>Server Roles</em> page, click <strong>Next</strong>.</li>
<li>On the <em>Features</em> page, leave defaults, click <strong>Next</strong>.</li>
<li>On the <em>DNS Server</em> page, read and click <strong>Next</strong>.</li>
<li>On the <em>Confirmation</em> page, click <strong>Install</strong>.</li>
<li>Wait for installation to finish (may take a few minutes).</li>
<li>When you see <em>Installation succeeded on srv1</em>, click <strong>Close</strong>.</li>
</ol>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-3-configuring-a-new-dns-zone">Part 3: Configuring a New DNS Zone<a href="#part-3-configuring-a-new-dns-zone" class="hash-link" aria-label="Direct link to Part 3: Configuring a New DNS Zone" title="Direct link to Part 3: Configuring a New DNS Zone">​</a></h3>
<ol>
<li>Back in <strong>Server Manager</strong>, in the top right, click <strong>Tools &gt; DNS</strong> to open the DNS Manager.</li>
<li>In the left pane, expand <strong>srv1</strong> and then <strong>Forward Lookup Zones</strong>.</li>
<li>Right-click on <strong>Forward Lookup Zones</strong> and select <strong>New Zone…</strong></li>
<li>In the <strong>New Zone Wizard</strong>:<!-- -->
<ol>
<li>On <em>Zone Type</em>, select <strong>Primary zone</strong>, click <strong>Next</strong>.</li>
<li>On <em>Zone Name</em>, enter <strong><em>yourSenecaUsername</em>.com</strong>, replacing <em>yourSenecaUsername</em> with your actual username.</li>
<li>For example, mine might be: <strong>cjohnson30.com</strong></li>
<li>Click <strong>Next</strong>.</li>
<li>On <em>Zone File</em>, keep <strong>Create a new file</strong> selected, click <strong>Next</strong>.</li>
<li>On <em>Dynamic Update</em>, keep <strong>Do not allow dynamic updates</strong> (default), then click <strong>Next</strong>.</li>
<li>Click <strong>Finish</strong> to create the zone.</li>
</ol>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-4-adding-host-a-records">Part 4: Adding Host (A) Records<a href="#part-4-adding-host-a-records" class="hash-link" aria-label="Direct link to Part 4: Adding Host (A) Records" title="Direct link to Part 4: Adding Host (A) Records">​</a></h3>
<ol>
<li>In <strong>DNS Manager</strong>, expand your new <strong>yourSenecaUsername.com</strong> zone.</li>
<li>Right-click in the right pane and select <strong>New Host (A or AAAA)…</strong></li>
<li>For each of your lab VMs, create a record:<!-- -->
<ol>
<li><strong>srv1</strong>
<ul>
<li>Name: <code>srv1</code></li>
<li>IP address: <code>(Use the IPv4 address of srv1)</code></li>
<li>Click <strong>Add Host</strong></li>
</ul>
</li>
<li><strong>srv2</strong>
<ul>
<li>Name: <code>srv2</code></li>
<li>IP address: <code>(Use the IPv4 address of srv2)</code></li>
<li>Click <strong>Add Host</strong></li>
</ul>
</li>
<li><strong>client1</strong>
<ul>
<li>Name: <code>client1</code></li>
<li>IP address: <code>(Use the IPv4 address of client1)</code></li>
<li>Click <strong>Add Host</strong></li>
</ul>
</li>
<li><strong>client2</strong>
<ul>
<li>Name: <code>client2</code></li>
<li>IP address: <code>(Use the IPv4 address of client2)</code></li>
<li>Click <strong>Add Host</strong></li>
</ul>
</li>
</ol>
</li>
<li>When finished, you should see all four names listed in the zone.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-5-configure-dns-forwarders-on-srv1">Part 5: Configure DNS Forwarders on <em>srv1</em><a href="#part-5-configure-dns-forwarders-on-srv1" class="hash-link" aria-label="Direct link to part-5-configure-dns-forwarders-on-srv1" title="Direct link to part-5-configure-dns-forwarders-on-srv1">​</a></h3>
<p>We want <em>srv1</em> to answer local names (your zone which contains srv1, srv2, etc.) and resolve Internet names. If <em>srv1</em> isn’t authoritative for a name (i.e. doesn&#x27;t have a definition for it), it <em>should</em> forward the query upstream.</p>
<p>At the moment, it&#x27;s only set up to give the IP addresses of our VMs, not the Internet.</p>
<p>To fix this, we have to tell <em>this</em> server where to look if it doesn&#x27;t have the answer locally. If it can&#x27;t answer locally, it will forward the request to an Internet-based DNS server.</p>
<p>This is called a <em>Forwarder</em>. Let&#x27;s set it up:</p>
<ol>
<li>In <strong>DNS Manager</strong> on srv1, right-click on your server’s name in the left pane.</li>
<li>Select <strong>Properties</strong>.</li>
<li>Go to the <strong>Forwarders</strong> tab.</li>
<li>Click <strong>Edit…</strong>
Investigation 1, Part 1, Step 4.</li>
<li>In the <em>IP address</em> field, enter the IP address from <em>Investigation 1, Part 1, Step 4</em>, then hit <strong>Enter</strong> for it to be verified. If it can reach it, you should see a domain name populate next to the IP address.</li>
<li>Add a second DNS for fallback, using CIRA&#x27;s DNS:<!-- -->
<ul>
<li><strong>149.112.121.20</strong></li>
</ul>
</li>
<li>Make sure CIRA&#x27;s DNS is the <strong>second</strong> entry in the list.</li>
<li>Click <strong>OK</strong> to add.</li>
<li>Click <strong>OK</strong> again to close Properties.</li>
</ol>
<blockquote>
<p><strong>ℹ️ Note:</strong>
In managed networks you might use <em>Root Hints</em> instead. We’re using Forwarders for predictable performance in a classroom environment.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-6-configuring-srv1-to-use-dns-from-srv1">Part 6: Configuring <em>srv1</em> To Use DNS From <em>srv1</em><a href="#part-6-configuring-srv1-to-use-dns-from-srv1" class="hash-link" aria-label="Direct link to part-6-configuring-srv1-to-use-dns-from-srv1" title="Direct link to part-6-configuring-srv1-to-use-dns-from-srv1">​</a></h3>
<p>Now that we&#x27;ve set up our DNS server locally on <em>srv1</em>, we have to tell <em>srv1</em> to use itself for DNS resolution instead of what Seneca (or your ISP) provides.</p>
<p>We&#x27;re going to do this by using the <em>Loopback Interface</em>. This is a special network interface on all modern operating systems that, when network traffic (like DNS!) is sent to it, will loop it back to itself. Hence, the name.</p>
<p>The <em>Loopback</em> interface&#x27;s address is always <strong>127.0.0.1</strong> on all systems. (You may sometimes see <strong>localhost</strong> used for this. That&#x27;s the URL version of the exact same network interface.)</p>
<p>This special interface is great for a number of reasons, but most importantly: It&#x27;s completely separate from our other networks and so isn&#x27;t affected by network configuration mistakes. When you use loopback, you know you&#x27;re getting the most direct link. Helpful in troubleshooting!</p>
<blockquote>
<p><strong>Network Flow with Loopback:</strong>
Send Traffic from <em>srv1</em> &gt; <em>srv1</em> Loopback &gt; Receive Traffic from <em>srv1</em></p>
</blockquote>
<ol>
<li>
<p>To do this, open up the Network Properties for <strong>External Network</strong> and change its TCP/IPv4 settings to the following:</p>
<ul>
<li>Preferred DNS server: <strong>127.0.0.1</strong></li>
<li>Alternate DNS server: <code>&lt;blank&gt;</code></li>
</ul>
</li>
<li>
<p>Click OK on each open dialog box until you&#x27;re back at <em>Network Connections</em>.</p>
</li>
<li>
<p>Repeat Steps 1-2 for <strong>vEthernet (HQ Network)</strong>.</p>
</li>
<li>
<p>Verify your work by opening <strong>Command Prompt</strong> and running: <code>ipconfig /all</code></p>
</li>
<li>
<p>You should see both interfaces and their DNS settings set to 127.0.0.1.</p>
</li>
</ol>
<p>If you do, move on to the next part!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-7-test-srv1-dns-resolution">Part 7: Test <em>srv1</em> DNS Resolution<a href="#part-7-test-srv1-dns-resolution" class="hash-link" aria-label="Direct link to part-7-test-srv1-dns-resolution" title="Direct link to part-7-test-srv1-dns-resolution">​</a></h3>
<p>Our first task is to confirm this works locally by telling the server to talk to itself first for DNS resolution. This lets us test our DNS service and records while removing the network and firewall pieces. (See the explanation above in Part 6.)</p>
<ol>
<li>Open <strong>Command Prompt</strong>.</li>
<li>To test DNS resolution functionality on your local network, run the following commands one at a time:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client2.cjohnson30.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Now, let&#x27;s run a lookup for an address on the greater Internet:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup eff.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup reddit.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>If each returns the proper IP address value, you&#x27;re done! If not, revisit your earlier configuration steps and check to see what might be missing.</li>
<li>Don&#x27;t be afraid to ask for help!</li>
<li><strong>If <em>any</em> of your lookups above failed, ask for help! Do not move onto the next Investigation if failed.</strong></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-configuring-other-machines-for-dns-use">Investigation 2: Configuring Other Machines For DNS Use<a href="#investigation-2-configuring-other-machines-for-dns-use" class="hash-link" aria-label="Direct link to Investigation 2: Configuring Other Machines For DNS Use" title="Direct link to Investigation 2: Configuring Other Machines For DNS Use">​</a></h2>
<p>In this investigation, we will configure our other VMs to use <em>srv1</em> as the DNS server for all DNS resolution.</p>
<blockquote>
<p>ℹ️ <strong>A note about the <em>loopback</em> address from Investigation 1</strong><br>
<!-- -->The <em>loopback address</em> we used on <em>srv1</em> only works locally. You cannot use this address outside of <em>srv1</em>. You must use its <strong>Internal Network</strong> address.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-windows-server-core-srv2">Part 1: Windows Server Core (srv2)<a href="#part-1-windows-server-core-srv2" class="hash-link" aria-label="Direct link to Part 1: Windows Server Core (srv2)" title="Direct link to Part 1: Windows Server Core (srv2)">​</a></h3>
<ol>
<li>Turn on the following VMs:<!-- -->
<ul>
<li>srv2</li>
<li>client1</li>
<li>client2</li>
</ul>
</li>
<li>On <em>srv2</em>, log in as Administrator.</li>
<li>At the prompt, run:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Get-NetIPAddress</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Look for the section that contains <em>srv2</em>&#x27;s normal <strong>Internal Network</strong> IP address. Make a note of the <strong>InterfaceIndex</strong> number just below it. (For example, 4. Yours may differ.)</li>
<li>Set the DNS server to srv1’s IP (replace X.X.X.X with srv1’s actual address, and 4 with your NIC’s ifIndex):</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Set-DnsClientServerAddress -InterfaceIndex 4 -ServerAddresses `10.0.UID.1`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="5">
<li>Confirm the change:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Get-DnsClientServerAddress</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="6">
<li>
<p>Repeat Steps 2-5 for the <strong>External Network</strong> address/network interface.</p>
</li>
<li>
<p>When done, the command on Step 5 should provide a similar output to this:</p>
<p><img decoding="async" loading="lazy" alt="Figure 1 - DNS Server Addresses" src="/OSM620/assets/images/srv2-dnsentries-3af08e5dd17303a77ab31a5cde50a502.png" width="970" height="539" class="img_ev3q"></p>
</li>
<li>
<p>To test DNS resolution functionality, run the following commands one at a time:</p>
</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup eff.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li>If each returns the proper IP address value, you&#x27;re done! If not, revisit your earlier configuration steps and check to see what might be missing.</li>
<li>Don&#x27;t be afraid to ask for help!</li>
<li>Last, ping each other machine to prove you no longer need to remember IP addresses:</li>
</ol>
<div class="language-ms-dos codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ms-dos codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ping srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ping client1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ping client2.cjohnson30.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="13">
<li>Cool, right?</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-windows-11-client-client1">Part 2: Windows 11 Client (client1)<a href="#part-2-windows-11-client-client1" class="hash-link" aria-label="Direct link to Part 2: Windows 11 Client (client1)" title="Direct link to Part 2: Windows 11 Client (client1)">​</a></h3>
<ol>
<li>Login as Administrator.</li>
<li>Right-click the <strong>Network</strong> icon in the system tray, click <strong>Network and Internet settings</strong>.</li>
<li>Click <strong>Ethernet</strong>.</li>
<li>Scroll down to <em>DNS server assignment</em> and click the <strong>Edit</strong> button next to it.</li>
<li>In the <em>Edit DNS settings</em> pop-up window, click the drop-down menu to change it from <em>Automatic (DHCP)</em> to <strong>Manual</strong>.</li>
<li>Find the new <em>IPv4</em> option and toggle it <strong>On</strong>.</li>
<li>In the <em>Preferred DNS</em> field, enter the <em>srv1</em> IP address.</li>
<li>Leave all others on their defaults and click <strong>Save</strong>.</li>
<li>Remove saved DNS cache. Open <strong>Command Prompt</strong> and type:</li>
</ol>
<div class="language-ms-dos codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ms-dos codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ipconfig /flushdns</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="9">
<li>To test DNS resolution functionality, run the following commands one at a time:</li>
</ol>
<div class="language-ms-dos codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ms-dos codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup srv2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup client2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup eff.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup reddit.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="10">
<li>If each returns the proper IP address value, you&#x27;re done! If not, revisit your earlier configuration steps and check to see what might be missing.</li>
<li>Don&#x27;t be afraid to ask for help!</li>
<li>Last, ping each server to prove you no longer need to remember IP addresses:</li>
</ol>
<div class="language-ms-dos codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ms-dos codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ping srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ping srv2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ping client2.cjohnson30.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="13">
<li>In Firefox, browse to your <em>srv1</em> IIS splash page by name:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://srv1.cjohnson30.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="14">
<li>Also cool, right?</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-3-configuring-reverse-lookup-ptr-records">Investigation 3: Configuring Reverse Lookup (PTR) Records<a href="#investigation-3-configuring-reverse-lookup-ptr-records" class="hash-link" aria-label="Direct link to Investigation 3: Configuring Reverse Lookup (PTR) Records" title="Direct link to Investigation 3: Configuring Reverse Lookup (PTR) Records">​</a></h2>
<p>In this investigation, we will set up Reverse Lookup (PTR) records so we can look up a server by its IP address and get a FQDN address back. Very helpful in troubleshooting and a best practice.</p>
<p>You&#x27;ll also see how it helps for self-identification a little later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-create-a-reverse-lookup-zone">Part 1: Create a Reverse Lookup Zone<a href="#part-1-create-a-reverse-lookup-zone" class="hash-link" aria-label="Direct link to Part 1: Create a Reverse Lookup Zone" title="Direct link to Part 1: Create a Reverse Lookup Zone">​</a></h3>
<ol>
<li>In <strong>DNS Manager</strong> on <em>srv1</em>, right-click <strong>Reverse Lookup Zones</strong> in the left pane.</li>
<li>Click <strong>New Zone…</strong></li>
<li>In the <strong>New Zone Wizard</strong>:<!-- -->
<ol>
<li>On <em>Zone Type</em>, select <strong>Primary zone</strong>. Click <strong>Next</strong>.</li>
<li>On <em>Reverse Lookup Zone Name</em>, choose <strong>IPv4 Reverse Lookup Zone</strong>. Click <strong>Next</strong>.</li>
<li>On <em>Network ID</em>, enter the first three octets of your VMs’ subnet (for example, if your VMs’ IPs are 10.0.45.x, enter 10.0.45). Click <strong>Next</strong>.</li>
<li>On <em>Zone File</em>, keep defaults. Click <strong>Next</strong>.</li>
<li>On <em>Dynamic Update</em>, keep defaults (Do not allow dynamic updates). Click <strong>Next</strong>.</li>
<li>Click <strong>Finish</strong> to create the zone.</li>
</ol>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-add-ptr-records-for-each-vm">Part 2: Add PTR Records for Each VM<a href="#part-2-add-ptr-records-for-each-vm" class="hash-link" aria-label="Direct link to Part 2: Add PTR Records for Each VM" title="Direct link to Part 2: Add PTR Records for Each VM">​</a></h3>
<ol>
<li>We&#x27;re going to automatically add PTR records using our existing A records for ease of use.</li>
<li>Inside the <em>Forward Lookup Zones</em>, in the <strong>cjohnson30.com</strong> zone, right-click each A record you created (srv1, srv2, client1, client2) and select <strong>Properties</strong>.</li>
<li>Check the box next to <strong>“Update associated pointer (PTR) record”</strong> and click <strong>OK</strong>.</li>
<li>If the box was already checked, uncheck it, click <strong>Apply</strong>, check it again, then click <strong>Apply</strong> again. This forces the PTR generation.</li>
<li>This should automatically create PTR records in your new reverse zone.</li>
<li>Double-check your work. Click on the folder inside <em>Reverse Lookup Zone</em> to see its contents. If empty, right-click on the folder and click <em>Refresh</em>.</li>
<li>They should now appear. If they do not, retrace your steps or ask for help.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-3-test-reverse-dns-resolution">Part 3: Test Reverse DNS Resolution<a href="#part-3-test-reverse-dns-resolution" class="hash-link" aria-label="Direct link to Part 3: Test Reverse DNS Resolution" title="Direct link to Part 3: Test Reverse DNS Resolution">​</a></h3>
<ol>
<li>On <em>srv2</em>, open PowerShell.</li>
<li>Run <strong>nslookup</strong> on each VM&#x27;s IP address:</li>
</ol>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup 10.0.UID.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup 10.0.UID.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup 10.0.UID.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nslookup 10.0.UID.12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>You should see the PTR record and corresponding hostname for each IP address.</li>
</ol>
<p>Example Output:</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Server:  srv1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address:  10.0.45.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Server:  srv2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address:  10.0.45.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name:    client1.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address:  10.0.45.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name:    client2.cjohnson30.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address:  10.0.45.12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Notice that the server entry no longer says &quot;UnKnown&quot; as it did before. Now it can identify itself!</li>
</ol>
<p>Congratulations, you&#x27;ve now set up basic DNS services from <em>srv1</em> to each VM in your environment and allowed for local resolution to your other VMs by name!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-and-common-pitfalls">Troubleshooting and Common Pitfalls<a href="#troubleshooting-and-common-pitfalls" class="hash-link" aria-label="Direct link to Troubleshooting and Common Pitfalls" title="Direct link to Troubleshooting and Common Pitfalls">​</a></h2>
<ol>
<li><strong>Forwarders not working:</strong> Verify upstream DNS IPs are reachable from srv1 and listed in the Forwarders tab (not just in adapter DNS settings).</li>
<li><strong>Wrong adapter DNS:</strong> On srv1, both adapters should use 127.0.0.1. On other machines, adapters should use 10.0.UID.1.</li>
<li><strong>Names resolve, but pings fail:</strong> That’s likely firewall (Lab 3). The important bit for this lab is that nslookup returns correct answers.</li>
<li><strong>PTRs missing:</strong> Re-toggle “Update associated PTR” on each A record, Apply, then Refresh the reverse zone.</li>
<li><strong>Typo domain:</strong> Be consistent (e.g., cjohnson30.com everywhere).</li>
<li><strong>UID mismatch:</strong> Ensure all A/PTR records and tests use your UID subnet (10.0.UID.x).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-4-sign-off">Lab 4 Sign-Off<a href="#lab-4-sign-off" class="hash-link" aria-label="Direct link to Lab 4 Sign-Off" title="Direct link to Lab 4 Sign-Off">​</a></h2>
<p>It’s essential to complete Lab 4 correctly. All later labs assume working forward and reverse name resolution.</p>
<p>When you finish Lab 4, ask your instructor for a sign-off.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sign-off-checklist">Sign-Off Checklist<a href="#sign-off-checklist" class="hash-link" aria-label="Direct link to Sign-Off Checklist" title="Direct link to Sign-Off Checklist">​</a></h3>
<p>Please have the following on screen and ready to show.</p>
<p>On srv1:</p>
<ol>
<li><code>nslookup srv1.yourdomain</code>: Returns 10.0.<code>UID</code>.1</li>
<li><code>nslookup eff.org</code>: Returns a public IP (forwarder working)</li>
<li>Both adapters show 127.0.0.1 as DNS in <code>ipconfig /all</code></li>
<li>Your <strong>Forward Lookup Zone</strong> page open for review.</li>
<li>Your <strong>PTR Records</strong> page open for review.</li>
</ol>
<p>On srv2:</p>
<ol>
<li><code>Get-DnsClientServerAddress</code>: Shows 10.0.<code>UID</code>.1 for Internal and External network adapters.</li>
<li><code>nslookup client1.yourdomain</code> and <code>nslookup client2.yourdomain</code>: Correct IPs</li>
<li><code>nslookup 10.0.UID.1</code>, <code>nslookup 10.0.UID.11</code> and <code>nslookup 10.0.UID.12</code>: Correct PTR to FQDN.</li>
</ol>
<p>On client1:</p>
<ol>
<li>DNS set to 10.0.<code>UID</code>.1 (Manual/IPv4)</li>
<li><code>nslookup srv1.yourSenecaUsername.com</code>: Resolves to 10.0.<code>UID</code>.1</li>
<li>In Firefox: <code>http://srv1.yourSenecaUsername.com</code> loads the IIS splash page.</li>
<li><code>nslookup reddit.com</code>: Resolves a public IP (forwarder working)</li>
<li>In Firefox: <code>http://www.reddit.com</code> loads the Reddit main page.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/catherine-leung/OERTemplate/tree/main/docs/Labs/lab4.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/OSM620/Labs/lab3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 3 - Security and Remote Connectivity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OSM620/Labs/lab5"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 5 - Implementing DHCP</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lab-preparation" class="table-of-contents__link toc-highlight">Lab Preparation</a><ul><li><a href="#purpose--objectives-of-lab-4" class="table-of-contents__link toc-highlight">Purpose / Objectives of Lab 4</a></li><li><a href="#minimum-requirements" class="table-of-contents__link toc-highlight">Minimum Requirements</a></li><li><a href="#key-concepts" class="table-of-contents__link toc-highlight">Key Concepts</a><ul><li><a href="#what-dns-does---domain-name-system" class="table-of-contents__link toc-highlight">What DNS Does - Domain Name System</a></li><li><a href="#forward-vs-reverse-lookups" class="table-of-contents__link toc-highlight">Forward vs. Reverse Lookups</a></li><li><a href="#zones-and-authority" class="table-of-contents__link toc-highlight">Zones and Authority</a></li><li><a href="#authoritative-vs-recursive-srv1-does-both" class="table-of-contents__link toc-highlight">Authoritative vs. Recursive (srv1 does both)</a></li><li><a href="#forwarders-vs-root-hints-and-conditional-forwarders" class="table-of-contents__link toc-highlight">Forwarders vs. Root Hints (and Conditional Forwarders)</a></li><li><a href="#records-youll-actually-touch" class="table-of-contents__link toc-highlight">Records You’ll Actually Touch</a></li><li><a href="#fqdns-and-the-dns-suffix" class="table-of-contents__link toc-highlight">FQDNs and the DNS Suffix</a></li><li><a href="#caching-and-ttl" class="table-of-contents__link toc-highlight">Caching and TTL</a></li><li><a href="#ports-and-firewall" class="table-of-contents__link toc-highlight">Ports and Firewall</a></li><li><a href="#loopback-and-why-we-use-it-on-srv1" class="table-of-contents__link toc-highlight">Loopback and Why We Use It on <em>srv1</em></a></li><li><a href="#split-horizon-aka-split-brain-dns-just-awareness" class="table-of-contents__link toc-highlight">Split-Horizon (a.k.a. Split-Brain) DNS (just awareness)</a></li></ul></li></ul></li><li><a href="#investigation-1-configuring-dns-on-windows-server-srv1" class="table-of-contents__link toc-highlight">Investigation 1: Configuring DNS on Windows Server (<em>srv1</em>)</a><ul><li><a href="#part-1-confirm-a-static-ip-address-on-srv1" class="table-of-contents__link toc-highlight">Part 1: Confirm a Static IP Address on <em>srv1</em></a></li><li><a href="#part-2-installing-the-dns-server-role-on-srv1" class="table-of-contents__link toc-highlight">Part 2: Installing the DNS Server Role on <em>srv1</em></a></li><li><a href="#part-3-configuring-a-new-dns-zone" class="table-of-contents__link toc-highlight">Part 3: Configuring a New DNS Zone</a></li><li><a href="#part-4-adding-host-a-records" class="table-of-contents__link toc-highlight">Part 4: Adding Host (A) Records</a></li><li><a href="#part-5-configure-dns-forwarders-on-srv1" class="table-of-contents__link toc-highlight">Part 5: Configure DNS Forwarders on <em>srv1</em></a></li><li><a href="#part-6-configuring-srv1-to-use-dns-from-srv1" class="table-of-contents__link toc-highlight">Part 6: Configuring <em>srv1</em> To Use DNS From <em>srv1</em></a></li><li><a href="#part-7-test-srv1-dns-resolution" class="table-of-contents__link toc-highlight">Part 7: Test <em>srv1</em> DNS Resolution</a></li></ul></li><li><a href="#investigation-2-configuring-other-machines-for-dns-use" class="table-of-contents__link toc-highlight">Investigation 2: Configuring Other Machines For DNS Use</a><ul><li><a href="#part-1-windows-server-core-srv2" class="table-of-contents__link toc-highlight">Part 1: Windows Server Core (srv2)</a></li><li><a href="#part-2-windows-11-client-client1" class="table-of-contents__link toc-highlight">Part 2: Windows 11 Client (client1)</a></li></ul></li><li><a href="#investigation-3-configuring-reverse-lookup-ptr-records" class="table-of-contents__link toc-highlight">Investigation 3: Configuring Reverse Lookup (PTR) Records</a><ul><li><a href="#part-1-create-a-reverse-lookup-zone" class="table-of-contents__link toc-highlight">Part 1: Create a Reverse Lookup Zone</a></li><li><a href="#part-2-add-ptr-records-for-each-vm" class="table-of-contents__link toc-highlight">Part 2: Add PTR Records for Each VM</a></li><li><a href="#part-3-test-reverse-dns-resolution" class="table-of-contents__link toc-highlight">Part 3: Test Reverse DNS Resolution</a></li></ul></li><li><a href="#troubleshooting-and-common-pitfalls" class="table-of-contents__link toc-highlight">Troubleshooting and Common Pitfalls</a></li><li><a href="#lab-4-sign-off" class="table-of-contents__link toc-highlight">Lab 4 Sign-Off</a><ul><li><a href="#sign-off-checklist" class="table-of-contents__link toc-highlight">Sign-Off Checklist</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSM620 - Fundamentals of Microsoft Systems</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Chris Johnson.</div></div></div></footer></div>
</body>
</html>